Index: app/src/main/java/com/example/kleine/fragments/shopping/ProfileFragment.kt
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package com.example.kleine.fragments.shopping\r\n\r\nimport android.content.Intent\r\nimport android.os.Bundle\r\nimport android.util.Log\r\nimport androidx.fragment.app.Fragment\r\nimport android.view.LayoutInflater\r\nimport android.view.View\r\nimport android.view.ViewGroup\r\nimport android.widget.Toast\r\nimport androidx.coordinatorlayout.widget.CoordinatorLayout\r\nimport androidx.navigation.fragment.findNavController\r\nimport androidx.recyclerview.widget.LinearLayoutManager\r\nimport com.bumptech.glide.Glide\r\nimport com.example.kleine.BuildConfig\r\nimport com.example.kleine.R\r\nimport com.example.kleine.activities.LunchActivity\r\nimport com.example.kleine.activities.ShoppingActivity\r\nimport com.example.kleine.adapters.recyclerview.AllOrdersAdapter\r\nimport com.example.kleine.adapters.recyclerview.MaterialAdapter\r\nimport com.example.kleine.databinding.FragmentProfileBinding\r\nimport com.example.kleine.model.Enrollment\r\nimport com.example.kleine.model.Material\r\nimport com.example.kleine.model.User\r\nimport com.example.kleine.resource.Resource\r\nimport com.example.kleine.util.Constants.Companion.UPDATE_ADDRESS_FLAG\r\nimport com.example.kleine.viewmodel.shopping.ShoppingViewModel\r\nimport com.google.android.material.bottomnavigation.BottomNavigationView\r\nimport com.google.android.material.snackbar.Snackbar\r\nimport com.google.firebase.auth.FirebaseAuth\r\nimport com.google.firebase.firestore.FirebaseFirestore\r\n\r\n\r\nclass ProfileFragment : Fragment() {\r\n    val TAG = \"ProfileFragment\"\r\n    private lateinit var binding: FragmentProfileBinding\r\n    private lateinit var viewModel: ShoppingViewModel\r\n    private lateinit var materialAdapter: MaterialAdapter\r\n\r\n    private lateinit var enrolledMaterials: List<Material>\r\n\r\n\r\n\r\n    override fun onCreate(savedInstanceState: Bundle?) {\r\n        super.onCreate(savedInstanceState)\r\n\r\n        viewModel = (activity as ShoppingActivity).viewModel\r\n        viewModel.getUser()\r\n    }\r\n    override fun onCreateView(\r\n        inflater: LayoutInflater, container: ViewGroup?,\r\n        savedInstanceState: Bundle?\r\n    ): View {\r\n        binding = FragmentProfileBinding.inflate(inflater, container, false)\r\n        val currentUser = FirebaseAuth.getInstance().currentUser\r\n\r\n        if (currentUser != null) {\r\n            val userId = currentUser.uid\r\n            val db = FirebaseFirestore.getInstance()\r\n            db.collection(\"users\").document(userId)\r\n                .get()\r\n                .addOnSuccessListener { document ->\r\n                    if (document != null) {\r\n                        val status = document.getString(\"status\")\r\n                        Log.d(TAG, \"User Status: $status\")\r\n                        if (status == \"ADMINS\") {\r\n                            // Admin user, show the fragment\r\n                            binding.adminOrders.visibility = View.VISIBLE\r\n                            binding.linearAdmin.visibility = View.VISIBLE\r\n                            binding.linearJoinPartnership.visibility = View.GONE\r\n                        }else if(status == \"PARTNERS\"){\r\n                            binding.adminOrders.visibility = View.GONE\r\n                            binding.linearAdmin.visibility = View.GONE\r\n                            binding.linearJoinPartnership.visibility = View.GONE\r\n                            binding.linearViewPartnership.visibility = View.VISIBLE\r\n                        }else{\r\n                            binding.linearJoinPartnership.visibility = View.VISIBLE\r\n                            binding.linearViewPartnership.visibility = View.GONE\r\n                            binding.adminOrders.visibility = View.GONE\r\n                            binding.linearAdmin.visibility = View.GONE\r\n                        }\r\n                    }\r\n                }\r\n        }\r\n\r\n        return binding.root\r\n    }\r\n\r\n    override fun onViewCreated(view: View, savedInstanceState: Bundle?) {\r\n        super.onViewCreated(view, savedInstanceState)\r\n\r\n        materialAdapter = MaterialAdapter()\r\n\r\n        onHomeClick()\r\n        onLogoutClick()\r\n        onBillingAndAddressesClick()\r\n        onProfileClick()\r\n        onAllOrderClick()\r\n        onTrackOrderClick()\r\n        onJoinPartnershipCLick()\r\n        onViewPartnershipClick()\r\n        onAdminClick()\r\n        onHelpClick()\r\n\r\n        observeProfile()\r\n        binding.tvVersionCode.text =\r\n            \"${resources.getText(R.string.g_version)} ${BuildConfig.VERSION_NAME}\"\r\n\r\n\r\n        onTempCommentClick()\r\n        onTempRatingClick()\r\n    }\r\n\r\n    private fun onTempCommentClick() {\r\n        binding.linearComment.setOnClickListener {\r\n            val bundle = Bundle()\r\n            bundle.putString(\"documentId\", \"5VlLkBQaULeJlawqN8Rq\")\r\n            findNavController().navigate(R.id.action_profileFragment_to_tempCommentFragment, bundle)\r\n        }\r\n    }\r\n    private fun onTempRatingClick() {\r\n        binding.linearRating.setOnClickListener {\r\n            val bundle = Bundle()\r\n            bundle.putString(\"documentId\", \"5VlLkBQaULeJlawqN8Rq\")\r\n            findNavController().navigate(R.id.action_profileFragment_to_tempRatingFragment, bundle)\r\n        }\r\n    }\r\n    private fun onHelpClick() {\r\n        binding.linearHelp.setOnClickListener {\r\n            findNavController().navigate(R.id.action_profileFragment_to_helpFragment)\r\n        }\r\n    }\r\n\r\n    private fun onAdminClick() {\r\n        binding.linearAdmin.setOnClickListener {\r\n            findNavController().navigate(R.id.action_profileFragment_to_adminDashboardFragment)\r\n        }\r\n    }\r\n\r\n\r\n    private fun onJoinPartnershipCLick() {\r\n        binding.linearJoinPartnership.setOnClickListener {\r\n            findNavController().navigate(R.id.action_profileFragment_to_joinPartnerFragment)\r\n        }\r\n    }\r\n    private fun onViewPartnershipClick() {\r\n        binding.linearViewPartnership.setOnClickListener {\r\n            findNavController().navigate(R.id.action_profileFragment_to_viewPartnershipFragment)\r\n        }\r\n    }\r\n\r\n    private fun onTrackOrderClick() {\r\n        binding.linearTrackOrder.setOnClickListener {\r\n            val snackBar = requireActivity().findViewById<CoordinatorLayout>(R.id.snackBar_coordinator)\r\n            Snackbar.make(snackBar,resources.getText(R.string.g_coming_soon),Snackbar.LENGTH_SHORT).show()\r\n        }\r\n    }\r\n\r\n\r\n\r\n    private fun onAllOrderClick() {\r\n        binding.allOrders.setOnClickListener {\r\n            fetchUserEnrollments()\r\n            findNavController().navigate(R.id.action_profileFragment_to_allOrdersFragment)\r\n        }\r\n    }\r\n\r\n\r\n\r\n    private fun fetchUserEnrollments() {\r\n        val userId = FirebaseAuth.getInstance().currentUser?.uid\r\n        if (userId != null) {\r\n            val firestore = FirebaseFirestore.getInstance()\r\n            firestore.collection(\"enrollments\")\r\n                .whereEqualTo(\"userId\", userId)\r\n                .get()\r\n                .addOnSuccessListener { querySnapshot ->\r\n                    val enrollments = querySnapshot.documents.mapNotNull { document ->\r\n                        document.toObject(Enrollment::class.java)\r\n                    }\r\n                    val materialIds = enrollments.map { it.materialId }\r\n                    fetchMaterialsInBatches(materialIds)\r\n                }\r\n                .addOnFailureListener { exception ->\r\n                    Log.e(TAG, \"Error fetching user enrollments\", exception)\r\n                    // Handle the error appropriately\r\n                }\r\n        } else {\r\n            // Handle the case where the user is not logged in\r\n        }\r\n    }\r\n\r\n    private fun fetchMaterialsInBatches(materialIds: List<String>) {\r\n        val batchLimit = 10\r\n        val batches = (materialIds.size + batchLimit - 1) / batchLimit\r\n        val firestore = FirebaseFirestore.getInstance()\r\n\r\n        for (i in 0 until batches) {\r\n            val startIndex = i * batchLimit\r\n            val endIndex = minOf((i + 1) * batchLimit, materialIds.size)\r\n            val batchIds = materialIds.subList(startIndex, endIndex)\r\n\r\n            firestore.collection(\"Materials\")\r\n                .whereIn(\"id\", batchIds)\r\n                .get()\r\n                .addOnSuccessListener { querySnapshot ->\r\n                    val materials = querySnapshot.documents.mapNotNull { document ->\r\n                        document.toObject(Material::class.java)\r\n                    }\r\n                    displayMaterials(materials)\r\n                }\r\n                .addOnFailureListener { exception ->\r\n                    Log.e(TAG, \"Error fetching materials\", exception)\r\n                    // Handle the error appropriately\r\n                }\r\n        }\r\n    }\r\n\r\n\r\n\r\n\r\n    private fun displayMaterials(materials: List<Material>) {\r\n        // Update your UI with the fetched materials\r\n        // For example, update the RecyclerView Adapter with the materials\r\n        materialAdapter.differ.submitList(materials)\r\n    }\r\n\r\n\r\n\r\n\r\n    private fun onProfileClick() {\r\n        binding.constraintProfile.setOnClickListener {\r\n            user?.let {\r\n                val bundle = Bundle()\r\n                bundle.putParcelable(\"user\",user)\r\n                findNavController().navigate(R.id.action_profileFragment_to_editUserInformation,bundle)\r\n            }\r\n        }\r\n\r\n\r\n    }\r\n\r\n    var user: User?=null\r\n    private fun observeProfile() {\r\n        viewModel.profile.observe(viewLifecycleOwner) { response ->\r\n            when (response) {\r\n                is Resource.Loading -> {\r\n                    showLoading()\r\n                    return@observe\r\n                }\r\n\r\n                is Resource.Success -> {\r\n                    hideLoading()\r\n                    val user = response.data\r\n                    this.user = user\r\n                    binding.apply {\r\n                        tvUserName.text = user?.firstName + \" \" + user?.lastName\r\n                        Glide.with(requireView()).load(user?.imagePath)\r\n                            .error(R.drawable.ic_default_profile_picture).into(binding.imgUser)\r\n                    }\r\n                    return@observe\r\n                }\r\n\r\n                is Resource.Error -> {\r\n                    hideLoading()\r\n                    Toast.makeText(\r\n                        activity,\r\n                        resources.getText(R.string.error_occurred),\r\n                        Toast.LENGTH_SHORT\r\n                    ).show()\r\n                    Log.e(TAG, response.message.toString())\r\n                    return@observe\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    private fun hideLoading() {\r\n        binding.apply {\r\n            binding.progressbarSettings.visibility = View.GONE\r\n            constraintParnet.visibility = View.VISIBLE\r\n        }\r\n    }\r\n\r\n    private fun showLoading() {\r\n        binding.apply {\r\n            binding.progressbarSettings.visibility = View.VISIBLE\r\n            constraintParnet.visibility = View.INVISIBLE\r\n        }\r\n    }\r\n\r\n    private fun onBillingAndAddressesClick() {\r\n        binding.linearBilling.setOnClickListener {\r\n            val bundle = Bundle()\r\n            bundle.putString(\"clickFlag\", UPDATE_ADDRESS_FLAG)\r\n            findNavController().navigate(R.id.action_profileFragment_to_billingFragment, bundle)\r\n        }\r\n    }\r\n\r\n    private fun onLogoutClick() {\r\n\r\n        binding.linearOut.setOnClickListener {\r\n            FirebaseAuth.getInstance().signOut()\r\n            val intent = Intent(context, LunchActivity::class.java)\r\n            intent.addFlags(Intent.FLAG_ACTIVITY_CLEAR_TASK or Intent.FLAG_ACTIVITY_NEW_TASK)\r\n            startActivity(intent)\r\n        }\r\n    }\r\n\r\n    private fun onHomeClick() {\r\n        val btm = activity?.findViewById<BottomNavigationView>(R.id.bottom_navigation)\r\n        btm?.menu?.getItem(0)?.setOnMenuItemClickListener {\r\n            activity?.onBackPressed()\r\n            true\r\n        }\r\n    }\r\n\r\n    override fun onResume() {\r\n        super.onResume()\r\n        val bottomNavigation = activity?.findViewById<BottomNavigationView>(R.id.bottom_navigation)\r\n        bottomNavigation?.visibility = View.VISIBLE\r\n    }\r\n\r\n\r\n}
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/java/com/example/kleine/fragments/shopping/ProfileFragment.kt b/app/src/main/java/com/example/kleine/fragments/shopping/ProfileFragment.kt
--- a/app/src/main/java/com/example/kleine/fragments/shopping/ProfileFragment.kt	(revision 8329d1d9692cc1f06318e32b70fe66538ec86e3d)
+++ b/app/src/main/java/com/example/kleine/fragments/shopping/ProfileFragment.kt	(date 1695577129613)
@@ -108,7 +108,10 @@
 
 
         onTempCommentClick()
+        onQuizClick()
         onTempRatingClick()
+        onPassedQuizzesClick()
+        onRewardClick()
     }
 
     private fun onTempCommentClick() {
@@ -118,6 +121,27 @@
             findNavController().navigate(R.id.action_profileFragment_to_tempCommentFragment, bundle)
         }
     }
+
+    private fun onQuizClick() {
+        binding.linearQuiz.setOnClickListener {
+            val bundle = Bundle()
+            bundle.putString("materialDocId", "MYuSpYyoeoUmZPGMCH9w")
+            findNavController().navigate(R.id.action_profileFragment_to_quizFragment, bundle)
+        }
+    }
+
+    private fun onPassedQuizzesClick() {
+        binding.linearPassedQuizzes.setOnClickListener {
+            findNavController().navigate(R.id.action_profileFragment_to_passedQuizzesFragment)
+        }
+    }
+
+    private fun onRewardClick() {
+        binding.linearReward.setOnClickListener {
+            findNavController().navigate(R.id.action_profileFragment_to_rewardFragment)
+        }
+    }
+
     private fun onTempRatingClick() {
         binding.linearRating.setOnClickListener {
             val bundle = Bundle()
Index: app/src/main/java/com/example/kleine/fragments/quiz/ResultFragment.kt
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package com.example.kleine.fragments.quiz\r\n\r\nimport android.os.Bundle\r\nimport androidx.fragment.app.Fragment\r\nimport android.view.LayoutInflater\r\nimport android.view.View\r\nimport android.view.ViewGroup\r\nimport androidx.databinding.DataBindingUtil\r\nimport androidx.navigation.fragment.findNavController\r\nimport com.example.kleine.R\r\nimport com.example.kleine.databinding.FragmentResultBinding\r\n\r\n// TODO: Rename parameter arguments, choose names that match\r\n// the fragment initialization parameters, e.g. ARG_ITEM_NUMBER\r\nprivate const val ARG_PARAM1 = \"param1\"\r\nprivate const val ARG_PARAM2 = \"param2\"\r\n\r\n/**\r\n * A simple [Fragment] subclass.\r\n * Use the [ResultFragment.newInstance] factory method to\r\n * create an instance of this fragment.\r\n */\r\nclass ResultFragment : Fragment() {\r\n    private lateinit var binding: FragmentResultBinding\r\n\r\n    override fun onCreateView(inflater: LayoutInflater, container: ViewGroup?, savedInstanceState: Bundle?): View? {\r\n        binding = DataBindingUtil.inflate(inflater, R.layout.fragment_result, container,false)\r\n        // Read the score from the arguments and display it\r\n        val score = arguments?.getInt(\"Result\", 0) ?: 0\r\n        binding.textView.text = \"Score: $score\"\r\n\r\n        // Set up click listener for restart button\r\n        binding.btnRestart.setOnClickListener {\r\n            // Navigate back to MainActivity or the main fragment.\r\n            findNavController().navigate(R.id.action_resultFragment_to_quizFragment)\r\n        }\r\n        return binding.root\r\n    }\r\n\r\n}
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/java/com/example/kleine/fragments/quiz/ResultFragment.kt b/app/src/main/java/com/example/kleine/fragments/quiz/ResultFragment.kt
--- a/app/src/main/java/com/example/kleine/fragments/quiz/ResultFragment.kt	(revision 8329d1d9692cc1f06318e32b70fe66538ec86e3d)
+++ b/app/src/main/java/com/example/kleine/fragments/quiz/ResultFragment.kt	(date 1695570525900)
@@ -1,14 +1,17 @@
 package com.example.kleine.fragments.quiz
 
+import android.app.AlertDialog
 import android.os.Bundle
 import androidx.fragment.app.Fragment
 import android.view.LayoutInflater
 import android.view.View
 import android.view.ViewGroup
 import androidx.databinding.DataBindingUtil
+import androidx.lifecycle.ViewModelProvider
 import androidx.navigation.fragment.findNavController
 import com.example.kleine.R
 import com.example.kleine.databinding.FragmentResultBinding
+import com.example.kleine.viewmodel.quiz.ResultViewModel
 
 // TODO: Rename parameter arguments, choose names that match
 // the fragment initialization parameters, e.g. ARG_ITEM_NUMBER
@@ -22,19 +25,49 @@
  */
 class ResultFragment : Fragment() {
     private lateinit var binding: FragmentResultBinding
+    private lateinit var viewModel: ResultViewModel
 
     override fun onCreateView(inflater: LayoutInflater, container: ViewGroup?, savedInstanceState: Bundle?): View? {
         binding = DataBindingUtil.inflate(inflater, R.layout.fragment_result, container,false)
-        // Read the score from the arguments and display it
+        viewModel = ViewModelProvider(this).get(ResultViewModel::class.java)
+        // This is used so that the binding can observe LiveData updates
+        binding.lifecycleOwner = viewLifecycleOwner
+
+        val materialDocId = arguments?.getString("materialDocId") ?: ""
+        val setID = arguments?.getString("setID") ?: ""
+
         val score = arguments?.getInt("Result", 0) ?: 0
+        val totalQuestions = arguments?.getInt("TotalQuestions", 1) ?: 1 // replace with actual total questions
+        val percentageScored = (score.toFloat() / totalQuestions) * 100
         binding.textView.text = "Score: $score"
 
-        // Set up click listener for restart button
-        binding.btnRestart.setOnClickListener {
-            // Navigate back to MainActivity or the main fragment.
-            findNavController().navigate(R.id.action_resultFragment_to_quizFragment)
+        if (percentageScored >= 80) {
+            viewModel.updateUserPoints(5)
+            viewModel.storeQuizHistory(score, totalQuestions, materialDocId, setID)
+            showCongratsDialog()
+            binding.btnRestart.text = "Go to Profile"
+            binding.btnRestart.setOnClickListener {
+                findNavController().navigate(R.id.action_resultFragment_to_profileFragment)
+            }
+        } else {
+            binding.btnRestart.text = "Restart"
+            binding.btnRestart.setOnClickListener {
+                val action = ResultFragmentDirections.actionResultFragmentToQuizFragment(materialDocId)
+                findNavController().navigate(action)
+            }
         }
         return binding.root
     }
 
+    private fun showCongratsDialog() {
+        AlertDialog.Builder(requireContext())
+            .setIcon(R.drawable.baseline_stars_24) // Set the image or icon
+            .setTitle("Congratulations!") // Set the title
+            .setMessage("You have earn 5 points! You can use the points to claim your rewards!") // Set the description
+            .setPositiveButton("OK") { dialog, _ ->
+                dialog.dismiss()
+            }
+            .show()
+    }
+
 }
\ No newline at end of file
Index: app/src/main/res/drawable/background_top.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?xml version=\"1.0\" encoding=\"utf-8\"?>\r\n<selector xmlns:android=\"http://schemas.android.com/apk/res/android\">\r\n    <item>\r\n        <shape android:shape=\"rectangle\">\r\n            <solid android:color=\"@color/black\"></solid>\r\n            <corners\r\n                    android:bottomLeftRadius=\"60sp\"\r\n                    android:bottomRightRadius=\"60sp\"\r\n                />\r\n        </shape>\r\n\r\n    </item>\r\n</selector>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/res/drawable/background_top.xml b/app/src/main/res/drawable/background_top.xml
--- a/app/src/main/res/drawable/background_top.xml	(revision 8329d1d9692cc1f06318e32b70fe66538ec86e3d)
+++ b/app/src/main/res/drawable/background_top.xml	(date 1695570525829)
@@ -2,7 +2,7 @@
 <selector xmlns:android="http://schemas.android.com/apk/res/android">
     <item>
         <shape android:shape="rectangle">
-            <solid android:color="@color/black"></solid>
+            <solid android:color="@color/primary_color"></solid>
             <corners
                     android:bottomLeftRadius="60sp"
                     android:bottomRightRadius="60sp"
Index: app/src/main/res/navigation/shopping_nav_graph.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?xml version=\"1.0\" encoding=\"utf-8\"?>\r\n<navigation xmlns:android=\"http://schemas.android.com/apk/res/android\"\r\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\r\n    xmlns:tools=\"http://schemas.android.com/tools\"\r\n    android:id=\"@+id/shopping_nav_graph\"\r\n    app:startDestination=\"@id/homeFragment\">\r\n\r\n    <fragment\r\n        android:id=\"@+id/addMaterialFragment\"\r\n        android:name=\"com.example.kleine.fragments.shopping.AddMaterialFragment\"\r\n        android:label=\"Add Material\">\r\n    </fragment>\r\n\r\n\r\n\r\n    <fragment\r\n        android:id=\"@+id/homeFragment\"\r\n        android:name=\"com.example.kleine.fragments.shopping.HomeFragment\"\r\n        android:label=\"fragment_home\"\r\n        tools:layout=\"@layout/fragment_home\">\r\n\r\n        <action\r\n            android:id=\"@+id/action_homeFragment_to_addMaterialFragment\"\r\n            app:destination=\"@id/addMaterialFragment\" />\r\n\r\n        <action\r\n            android:id=\"@+id/action_homeFragment_to_searchFragment\"\r\n            app:destination=\"@id/searchFragment\"\r\n            app:popUpTo=\"@id/homeFragment\" />\r\n        <argument\r\n            android:name=\"position\"\r\n            app:argType=\"integer\"\r\n            android:defaultValue=\"0\" />\r\n\r\n        <action\r\n            android:id=\"@+id/action_homeFragment_to_materialDetailsFragment\"\r\n            app:destination=\"@id/materialDetailsFragment\"\r\n            app:enterAnim=\"@anim/nav_default_enter_anim\"\r\n            app:exitAnim=\"@anim/nav_default_exit_anim\"\r\n            app:popEnterAnim=\"@anim/nav_default_pop_enter_anim\"\r\n            app:popExitAnim=\"@anim/nav_default_pop_exit_anim\"/>\r\n    </fragment>\r\n\r\n\r\n    <fragment\r\n        android:id=\"@+id/materialDetailsFragment\"\r\n        android:name=\"com.example.kleine.fragments.shopping.MaterialPreviewFragment\"\r\n        tools:layout=\"@layout/fragment_product_preview\">\r\n        <argument\r\n            android:name=\"material\"\r\n            app:argType=\"com.example.kleine.model.Material\"\r\n            app:nullable=\"true\" />\r\n    </fragment>\r\n\r\n\r\n    <fragment\r\n        android:id=\"@+id/searchFragment\"\r\n        android:name=\"com.example.kleine.fragments.shopping.SearchFragment\"\r\n        android:label=\"fragment_search\"\r\n        tools:layout=\"@layout/fragment_search\">\r\n\r\n        <action\r\n            android:id=\"@+id/action_searchFragment_to_homeFragment\"\r\n            app:destination=\"@id/homeFragment\" />\r\n    </fragment>\r\n    <fragment\r\n        android:id=\"@+id/profileFragment\"\r\n        android:name=\"com.example.kleine.fragments.shopping.ProfileFragment\"\r\n        android:label=\"fragment_profile\"\r\n        tools:layout=\"@layout/fragment_profile\">\r\n\r\n\r\n        <action\r\n            android:id=\"@+id/action_profileFragment_to_billingFragment\"\r\n            app:destination=\"@id/billingFragment\"\r\n            app:enterAnim=\"@anim/from_right\"\r\n            app:exitAnim=\"@anim/to_left\"\r\n            app:popEnterAnim=\"@anim/from_left\"\r\n            app:popExitAnim=\"@anim/to_right\"/>\r\n        <action\r\n            android:id=\"@+id/action_profileFragment_to_editUserInformation\"\r\n            app:destination=\"@id/editUserInformation\"\r\n            app:enterAnim=\"@anim/from_right\"\r\n            app:exitAnim=\"@anim/to_left\"\r\n            app:popEnterAnim=\"@anim/from_left\"\r\n            app:popExitAnim=\"@anim/to_right\"/>\r\n        <action\r\n            android:id=\"@+id/action_profileFragment_to_allOrdersFragment\"\r\n            app:destination=\"@id/allOrdersFragment\"\r\n            app:enterAnim=\"@anim/from_right\"\r\n            app:exitAnim=\"@anim/to_left\"\r\n            app:popEnterAnim=\"@anim/from_left\"\r\n            app:popExitAnim=\"@anim/to_right\"/>\r\n        <action\r\n            android:id=\"@+id/action_profileFragment_to_languageFragment\"\r\n            app:destination=\"@id/languageFragment\"\r\n            app:enterAnim=\"@anim/from_right\"\r\n            app:exitAnim=\"@anim/to_left\"\r\n            app:popEnterAnim=\"@anim/from_left\"\r\n            app:popExitAnim=\"@anim/to_right\"/>\r\n        <action\r\n            android:id=\"@+id/action_profileFragment_to_viewPartnershipFragment\"\r\n            app:destination=\"@id/viewPartnershipFragment\"\r\n            app:enterAnim=\"@anim/from_right\"\r\n            app:exitAnim=\"@anim/to_left\"\r\n            app:popEnterAnim=\"@anim/from_left\"\r\n            app:popExitAnim=\"@anim/to_right\"/>\r\n        <action\r\n            android:id=\"@+id/action_profileFragment_to_helpFragment\"\r\n            app:destination=\"@id/helpFragment\"\r\n            app:enterAnim=\"@anim/from_right\"\r\n            app:exitAnim=\"@anim/to_left\"\r\n            app:popEnterAnim=\"@anim/from_left\"\r\n            app:popExitAnim=\"@anim/to_right\"/>\r\n        <action\r\n            android:id=\"@+id/action_profileFragment_to_joinPartnerFragment\"\r\n            app:destination=\"@id/joinPartnerFragment\"\r\n            app:enterAnim=\"@anim/from_right\"\r\n            app:exitAnim=\"@anim/to_left\"\r\n            app:popEnterAnim=\"@anim/from_left\"\r\n            app:popExitAnim=\"@anim/to_right\"/>\r\n        <action\r\n            android:id=\"@+id/action_profileFragment_to_adminDashboardFragment\"\r\n            app:destination=\"@id/adminDashboardFragment\"\r\n            app:enterAnim=\"@anim/nav_default_enter_anim\"\r\n            app:exitAnim=\"@anim/nav_default_exit_anim\"\r\n            app:popEnterAnim=\"@anim/nav_default_pop_enter_anim\"\r\n            app:popExitAnim=\"@anim/nav_default_pop_exit_anim\"/>\r\n        <action\r\n            android:id=\"@+id/action_profileFragment_to_tempCommentFragment\"\r\n            app:destination=\"@id/tempCommentFragment\">\r\n            <argument\r\n                android:name=\"documentId\"\r\n                app:argType=\"string\"\r\n                app:nullable=\"false\" />\r\n        </action>\r\n        <action\r\n            android:id=\"@+id/action_profileFragment_to_tempRatingFragment\"\r\n            app:destination=\"@id/tempRatingFragment\" >\r\n            <argument\r\n                android:name=\"documentId\"\r\n                app:argType=\"string\"\r\n                app:nullable=\"false\" />\r\n        </action>\r\n\r\n    </fragment>\r\n    <fragment\r\n        android:id=\"@+id/cartFragment\"\r\n        android:name=\"com.example.kleine.fragments.shopping.CartFragment\"\r\n        android:label=\"fragment_cart\"\r\n        tools:layout=\"@layout/fragment_cart\">\r\n\r\n        <action\r\n            android:id=\"@+id/action_cartFragment_to_billingFragment\"\r\n            app:destination=\"@id/billingFragment\" />\r\n    </fragment>\r\n\r\n    <fragment\r\n        android:id=\"@+id/billingFragment\"\r\n        android:name=\"com.example.kleine.fragments.shopping.BillingFragment\"\r\n        android:label=\"fragment_billing\"\r\n        tools:layout=\"@layout/fragment_billing\">\r\n        <action\r\n            android:id=\"@+id/action_billingFragment_to_addressFragment\"\r\n            app:destination=\"@id/addressFragment\"\r\n            app:enterAnim=\"@anim/from_right\"\r\n            app:exitAnim=\"@anim/to_left\"\r\n            app:popEnterAnim=\"@anim/from_left\"\r\n            app:popExitAnim=\"@anim/to_right\" />\r\n        <argument\r\n            android:name=\"clickFlag\"\r\n            app:argType=\"string\" />\r\n        <argument\r\n            android:name=\"price\"\r\n            android:defaultValue=\"null\"\r\n            app:argType=\"string\"\r\n            app:nullable=\"true\" />\r\n        <argument\r\n            android:name=\"products\"\r\n            android:defaultValue=\"@null\"\r\n            app:argType=\"com.example.kleine.model.CartProductsList\"\r\n            app:nullable=\"true\" />\r\n        <action\r\n            android:id=\"@+id/action_billingFragment_to_orderCompletion\"\r\n            app:destination=\"@id/orderCompletion\"\r\n            app:popUpTo=\"@id/billingFragment\"\r\n            app:popUpToInclusive=\"true\" />\r\n    </fragment>\r\n    <fragment\r\n        android:id=\"@+id/addressFragment\"\r\n        android:name=\"com.example.kleine.fragments.shopping.AddressFragment\"\r\n        android:label=\"fragment_address\"\r\n        tools:layout=\"@layout/fragment_address\">\r\n\r\n        <argument\r\n            android:name=\"address\"\r\n            android:defaultValue=\"@null\"\r\n            app:argType=\"com.example.kleine.model.Address\"\r\n            app:nullable=\"true\" />\r\n    </fragment>\r\n    <fragment\r\n        android:id=\"@+id/orderCompletion\"\r\n        android:name=\"com.example.kleine.fragments.shopping.OrderCompletion\"\r\n        android:label=\"fragment_order_completion\"\r\n        tools:layout=\"@layout/fragment_order_completion\">\r\n        <argument\r\n            android:name=\"order_completion_flag\"\r\n            app:argType=\"string\" />\r\n        <argument\r\n            android:name=\"orderNumber\"\r\n            android:defaultValue=\"null\"\r\n            app:argType=\"string\"\r\n            app:nullable=\"true\" />\r\n        <action\r\n            android:id=\"@+id/action_orderCompletion_to_orderDetails\"\r\n            app:destination=\"@id/orderDetails\" />\r\n        <argument\r\n            android:name=\"order\"\r\n            app:argType=\"com.example.kleine.model.Order\"\r\n            app:nullable=\"true\"\r\n            android:defaultValue=\"@null\" />\r\n    </fragment>\r\n    <fragment\r\n        android:id=\"@+id/editUserInformation\"\r\n        android:name=\"com.example.kleine.fragments.settings.EditUserInformationFragment\"\r\n        android:label=\"fragment_edit_user_information\"\r\n        tools:layout=\"@layout/fragment_edit_user_information\">\r\n        <argument\r\n            android:name=\"user\"\r\n            app:argType=\"com.example.kleine.model.User\" />\r\n    </fragment>\r\n    <fragment\r\n        android:id=\"@+id/allOrdersFragment\"\r\n        android:name=\"com.example.kleine.fragments.settings.AllOrdersFragment\"\r\n        android:label=\"fragment_all_orders\"\r\n        tools:layout=\"@layout/fragment_all_orders\" >\r\n\r\n        <action\r\n            android:id=\"@+id/action_allOrdersFragment_to_orderDetails\"\r\n            app:destination=\"@id/orderDetails\"\r\n            app:enterAnim=\"@anim/from_right\"\r\n            app:exitAnim=\"@anim/to_left\"\r\n            app:popEnterAnim=\"@anim/from_left\"\r\n            app:popExitAnim=\"@anim/to_right\"/>\r\n\r\n        <action\r\n            android:id=\"@+id/action_allOrdersFragment_to_materialDetailsFragment\"\r\n            app:destination=\"@id/materialDetailsFragment\"\r\n            app:enterAnim=\"@anim/from_right\"\r\n            app:exitAnim=\"@anim/to_left\"\r\n            app:popEnterAnim=\"@anim/from_left\"\r\n            app:popExitAnim=\"@anim/to_right\" />\r\n\r\n\r\n    </fragment>\r\n    <fragment\r\n        android:id=\"@+id/orderDetails\"\r\n        android:name=\"com.example.kleine.fragments.settings.OrderDetails\"\r\n        android:label=\"fragment_order_details\"\r\n        tools:layout=\"@layout/fragment_order_details\" >\r\n<!--        <argument-->\r\n<!--            android:name=\"order\"-->\r\n<!--            app:argType=\"com.example.kleine.model.Order\" />-->\r\n\r\n        <argument\r\n            android:name=\"material\"\r\n            app:argType=\"com.example.kleine.model.Material\" />\r\n\r\n        <argument\r\n            android:name=\"courseDocument\"\r\n            app:argType=\"com.example.kleine.model.CourseDocument\" />\r\n\r\n    </fragment>\r\n    <fragment\r\n        android:id=\"@+id/languageFragment\"\r\n        android:name=\"com.example.kleine.fragments.settings.LanguageFragment\"\r\n        android:label=\"fragment_language\"\r\n        tools:layout=\"@layout/fragment_language\" />\r\n    <fragment\r\n        android:id=\"@+id/viewPartnershipFragment\"\r\n        android:name=\"com.example.kleine.fragments.partnership.ViewPartnershipFragment\"\r\n        android:label=\"fragment_view_partnership\"\r\n        tools:layout=\"@layout/fragment_view_partnership\">\r\n        <action\r\n            android:id=\"@+id/action_viewPartnershipFragment_to_partnershipViewMaterialFragment\"\r\n            app:destination=\"@id/partnershipViewMaterialFragment\"\r\n            app:enterAnim=\"@anim/from_right\"\r\n            app:exitAnim=\"@anim/to_left\"\r\n            app:popEnterAnim=\"@anim/from_left\"\r\n            app:popExitAnim=\"@anim/to_right\"/>\r\n        <action\r\n            android:id=\"@+id/action_viewPartnershipFragment_to_updatePartnershipFragment\"\r\n            app:destination=\"@id/updatePartnershipFragment\"\r\n            app:enterAnim=\"@anim/from_right\"\r\n            app:exitAnim=\"@anim/to_left\"\r\n            app:popEnterAnim=\"@anim/from_left\"\r\n            app:popExitAnim=\"@anim/to_right\"/>\r\n    </fragment>\r\n    <fragment\r\n        android:id=\"@+id/helpFragment\"\r\n        android:name=\"com.example.kleine.fragments.settings.HelpFragment\"\r\n        android:label=\"HelpFragment\"\r\n        tools:layout=\"@layout/fragment_help\"/>\r\n    <fragment\r\n        android:id=\"@+id/partnershipViewMaterialFragment\"\r\n        android:name=\"com.example.kleine.fragments.partnership.PartnershipViewMaterialFragment\"\r\n        android:label=\"fragment_partnership_view_material\"\r\n        tools:layout=\"@layout/fragment_partnership_view_material\" >\r\n        <action\r\n            android:id=\"@+id/action_partnershipViewMaterialFragment_to_partnershipViewMaterialDetailFragment\"\r\n            app:destination=\"@id/partnershipViewMaterialDetailFragment\"\r\n            app:enterAnim=\"@anim/from_right\"\r\n            app:exitAnim=\"@anim/to_left\"\r\n            app:popEnterAnim=\"@anim/from_left\"\r\n            app:popExitAnim=\"@anim/to_right\">\r\n            <argument\r\n                android:name=\"documentId\"\r\n                app:argType=\"string\"\r\n                app:nullable=\"false\" />\r\n        </action>\r\n        <action\r\n            android:id=\"@+id/action_partnershipViewMaterialFragment_to_setsFragment\"\r\n            app:destination=\"@id/setsFragment\" />\r\n    </fragment>\r\n    <fragment\r\n        android:id=\"@+id/partnershipViewMaterialDetailFragment\"\r\n        android:name=\"com.example.kleine.fragments.partnership.PartnershipViewMaterialDetailFragment\"\r\n        android:label=\"fragment_partnership_view_material_detail\"\r\n        tools:layout=\"@layout/fragment_partnership_view_material_detail\" >\r\n        <action\r\n            android:id=\"@+id/action_partnershipViewMaterialDetailFragment_to_replyCommentFragment\"\r\n            app:destination=\"@id/replyCommentFragment\"\r\n            app:enterAnim=\"@anim/nav_default_enter_anim\"\r\n            app:exitAnim=\"@anim/nav_default_exit_anim\"\r\n            app:popEnterAnim=\"@anim/nav_default_pop_enter_anim\"\r\n            app:popExitAnim=\"@anim/nav_default_pop_exit_anim\">\r\n            <argument\r\n                android:name=\"documentId\"\r\n                app:argType=\"string\"\r\n                app:nullable=\"false\" />\r\n        </action>\r\n    </fragment>\r\n    <fragment\r\n        android:id=\"@+id/replyCommentFragment\"\r\n        android:name=\"com.example.kleine.fragments.partnership.ReplyCommentFragment\"\r\n        android:label=\"fragment_reply_comment\"\r\n        tools:layout=\"@layout/fragment_reply_comment\" />\r\n    <fragment\r\n        android:id=\"@+id/joinPartnerFragment\"\r\n        android:name=\"com.example.kleine.fragments.partnership.JoinPartnerFragment\"\r\n        android:label=\"fragment_join__partner_\"\r\n        tools:layout=\"@layout/fragment_join__partner_\" />\r\n    <fragment\r\n        android:id=\"@+id/adminDashboardFragment\"\r\n        android:name=\"com.example.kleine.fragments.admin.AdminDashboardFragment\"\r\n        android:label=\"fragment_admin_dashboard\"\r\n        tools:layout=\"@layout/fragment_admin_dashboard\" >\r\n        <action\r\n            android:id=\"@+id/action_adminDashboardFragment_to_adminViewPartnershipFragment\"\r\n            app:destination=\"@id/adminViewPartnershipFragment\"\r\n            app:enterAnim=\"@anim/nav_default_enter_anim\"\r\n            app:exitAnim=\"@anim/nav_default_exit_anim\"\r\n            app:popEnterAnim=\"@anim/nav_default_pop_enter_anim\"\r\n            app:popExitAnim=\"@anim/nav_default_pop_exit_anim\"/>\r\n        <action\r\n            android:id=\"@+id/action_adminDashboardFragment_to_adminViewRewardFragment\"\r\n            app:destination=\"@id/adminViewRewardFragment\" />\r\n    </fragment>\r\n    <fragment\r\n        android:id=\"@+id/adminViewPartnershipFragment\"\r\n        android:name=\"com.example.kleine.fragments.admin.AdminViewPartnershipFragment\"\r\n        android:label=\"fragment_admin_view_partnership\"\r\n        tools:layout=\"@layout/fragment_admin_view_partnership\" >\r\n        <action\r\n            android:id=\"@+id/action_adminViewPartnershipFragment_to_adminViewPartnershipRequestFragment\"\r\n            app:destination=\"@id/adminViewPartnershipRequestFragment\" />\r\n    </fragment>\r\n\r\n\r\n    <fragment\r\n        android:id=\"@+id/adminViewPartnershipRequestFragment\"\r\n        android:name=\"com.example.kleine.fragments.admin.AdminViewPartnershipRequestFragment\"\r\n        android:label=\"fragment_admin_view_partnership_request\"\r\n        tools:layout=\"@layout/fragment_admin_view_partnership_request\" />\r\n    <fragment\r\n        android:id=\"@+id/updatePartnershipFragment\"\r\n        android:name=\"com.example.kleine.fragments.partnership.UpdatePartnershipFragment\"\r\n        android:label=\"UpdatePartnershipFragment\"\r\n        tools:layout=\"@layout/fragment_update_partnership\"/>\r\n\r\n<!--    quiz-->\r\n    <fragment\r\n        android:id=\"@+id/setsFragment\"\r\n        android:name=\"com.example.kleine.fragments.quiz.SetsFragment\"\r\n        android:label=\"SetsFragment\"\r\n        tools:layout=\"@layout/fragment_sets\" >\r\n        <action\r\n            android:id=\"@+id/action_setsFragment_to_questionFragment\"\r\n            app:destination=\"@id/questionFragment\" />\r\n    </fragment>\r\n    <fragment\r\n        android:id=\"@+id/questionFragment\"\r\n        android:name=\"com.example.kleine.fragments.quiz.QuestionFragment\"\r\n        android:label=\"QuestionFragment\"\r\n        tools:layout=\"@layout/fragment_question\" >\r\n        <action\r\n            android:id=\"@+id/action_questionFragment_to_addUpdateQuestionFragment\"\r\n            app:destination=\"@id/addUpdateQuestionFragment\" />\r\n    </fragment>\r\n    <fragment\r\n        android:id=\"@+id/addUpdateQuestionFragment\"\r\n        android:name=\"com.example.kleine.fragments.quiz.AddUpdateQuestionFragment\"\r\n        android:label=\"AddUpdateQuestionFragment\"\r\n        tools:layout=\"@layout/fragment_add_update_question\" />\r\n    <fragment\r\n        android:id=\"@+id/quizFragment\"\r\n        android:name=\"com.example.kleine.fragments.quiz.QuizFragment\"\r\n        android:label=\"QuizFragment\"\r\n        tools:layout=\"@layout/fragment_quiz\" >\r\n        <action\r\n            android:id=\"@+id/action_quizFragment_to_playFragment\"\r\n            app:destination=\"@id/playFragment\" />\r\n    </fragment>\r\n    <fragment\r\n        android:id=\"@+id/playFragment\"\r\n        android:name=\"com.example.kleine.fragments.quiz.PlayFragment\"\r\n        android:label=\"PlayFragment\"\r\n        tools:layout=\"@layout/fragment_play\" >\r\n        <action\r\n            android:id=\"@+id/action_playFragment_to_resultFragment\"\r\n            app:destination=\"@id/resultFragment\" />\r\n        <action\r\n            android:id=\"@+id/action_playFragment_to_quizFragment\"\r\n            app:destination=\"@id/quizFragment\" />\r\n    </fragment>\r\n    <fragment\r\n        android:id=\"@+id/resultFragment\"\r\n        android:name=\"com.example.kleine.fragments.quiz.ResultFragment\"\r\n        android:label=\"ResultFragment\"\r\n        tools:layout=\"@layout/fragment_result\" >\r\n        <action\r\n            android:id=\"@+id/action_resultFragment_to_quizFragment\"\r\n            app:destination=\"@id/quizFragment\" />\r\n    </fragment>\r\n    <!--    end quiz-->\r\n\r\n<!--    reward-->\r\n    <fragment\r\n        android:id=\"@+id/adminViewRewardFragment\"\r\n        android:name=\"com.example.kleine.fragments.admin.AdminViewRewardFragment\"\r\n        android:label=\"AdminViewRewardFragment\"\r\n        tools:layout=\"@layout/fragment_admin_view_reward\">\r\n        <action\r\n            android:id=\"@+id/action_adminViewRewardFragment_to_adminAddRewardFragment\"\r\n            app:destination=\"@id/adminAddRewardFragment\" />\r\n        <action\r\n            android:id=\"@+id/action_adminViewRewardFragment_to_adminUpdateRewardFragment\"\r\n            app:destination=\"@id/adminUpdateRewardFragment\" >\r\n            <argument\r\n            android:name=\"documentId\"\r\n            app:argType=\"string\" />\r\n        </action>\r\n    </fragment>\r\n    <fragment\r\n        android:id=\"@+id/adminAddRewardFragment\"\r\n        android:name=\"com.example.kleine.fragments.admin.AdminAddRewardFragment\"\r\n        android:label=\"AdminAddRewardFragment\"\r\n        tools:layout=\"@layout/fragment_admin_add_reward\"/>\r\n    <fragment\r\n        android:id=\"@+id/adminUpdateRewardFragment\"\r\n        android:name=\"com.example.kleine.fragments.admin.AdminUpdateRewardFragment\"\r\n        android:label=\"AdminUpdateRewardFragment\"\r\n        tools:layout=\"@layout/fragment_admin_update_reward\"/>\r\n<!--    end reward-->\r\n    <fragment\r\n        android:id=\"@+id/tempCommentFragment\"\r\n        android:name=\"com.example.kleine.fragments.TempCommentFragment\"\r\n        android:label=\"fragment_temp_comment\"\r\n        tools:layout=\"@layout/fragment_temp_comment\"/>\r\n    <fragment\r\n        android:id=\"@+id/tempRatingFragment\"\r\n        android:name=\"com.example.kleine.fragments.TempRatingFragment\"\r\n        android:label=\"fragment_temp_rating\"\r\n        tools:layout=\"@layout/fragment_temp_rating\" />\r\n</navigation>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/res/navigation/shopping_nav_graph.xml b/app/src/main/res/navigation/shopping_nav_graph.xml
--- a/app/src/main/res/navigation/shopping_nav_graph.xml	(revision 8329d1d9692cc1f06318e32b70fe66538ec86e3d)
+++ b/app/src/main/res/navigation/shopping_nav_graph.xml	(date 1695572687050)
@@ -142,7 +142,20 @@
                 app:argType="string"
                 app:nullable="false" />
         </action>
-
+        <action
+            android:id="@+id/action_profileFragment_to_quizFragment"
+            app:destination="@id/quizFragment" >
+            <argument
+                android:name="materialDocId"
+                app:argType="string"
+                app:nullable="false" />
+        </action>
+        <action
+            android:id="@+id/action_profileFragment_to_passedQuizzesFragment"
+            app:destination="@id/passedQuizzesFragment" />
+        <action
+            android:id="@+id/action_profileFragment_to_rewardFragment"
+            app:destination="@id/rewardFragment" />
     </fragment>
     <fragment
         android:id="@+id/cartFragment"
@@ -419,7 +432,19 @@
         tools:layout="@layout/fragment_quiz" >
         <action
             android:id="@+id/action_quizFragment_to_playFragment"
-            app:destination="@id/playFragment" />
+            app:destination="@id/playFragment" >
+            <argument
+                android:name="materialDocId"
+                app:argType="string"
+                app:nullable="false" />
+            <argument
+                android:name="randomSetId"
+                app:argType="string"
+                app:nullable="false" />
+        </action>
+        <action
+            android:id="@+id/action_quizFragment_to_profileFragment"
+            app:destination="@id/profileFragment" />
     </fragment>
     <fragment
         android:id="@+id/playFragment"
@@ -432,6 +457,9 @@
         <action
             android:id="@+id/action_playFragment_to_quizFragment"
             app:destination="@id/quizFragment" />
+        <argument
+            android:name="materialDocId"
+            app:argType="string"/>
     </fragment>
     <fragment
         android:id="@+id/resultFragment"
@@ -439,9 +467,22 @@
         android:label="ResultFragment"
         tools:layout="@layout/fragment_result" >
         <action
+            android:id="@+id/action_resultFragment_to_profileFragment"
+            app:destination="@id/profileFragment" />
+        <action
             android:id="@+id/action_resultFragment_to_quizFragment"
-            app:destination="@id/quizFragment" />
+            app:destination="@id/quizFragment">
+            <argument
+                android:name="materialDocId"
+                app:argType="string"
+                app:nullable="true" />
+        </action>
     </fragment>
+    <fragment
+        android:id="@+id/passedQuizzesFragment"
+        android:name="com.example.kleine.fragments.quiz.PassedQuizzesFragment"
+        android:label="PassedQuizzesFragment"
+        tools:layout="@layout/fragment_passed_quizzes" />
     <!--    end quiz-->
 
 <!--    reward-->
@@ -471,6 +512,11 @@
         android:name="com.example.kleine.fragments.admin.AdminUpdateRewardFragment"
         android:label="AdminUpdateRewardFragment"
         tools:layout="@layout/fragment_admin_update_reward"/>
+    <fragment
+        android:id="@+id/rewardFragment"
+        android:name="com.example.kleine.fragments.reward.RewardFragment"
+        android:label="RewardFragment"
+        tools:layout="@layout/fragment_reward"/>
 <!--    end reward-->
     <fragment
         android:id="@+id/tempCommentFragment"
Index: app/src/main/res/values/strings.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><resources>\r\n    <string name=\"app_name\">HELP</string>\r\n    <string name=\"g_app_name\">HELP</string>\r\n    <string name=\"g_the_right_address\">In Learning, \\nWe Trust</string>\r\n\r\n    <!--    <string name=\"g_for_shopping\">For Shopping</string>-->\r\n    <!--    <string name=\"g_any_day\">Anyday</string>-->\r\n\r\n    <string name=\"g_best_quality\">Knowledge opens the door to a world of opportunities, illuminating the path to progress \\n When this wisdom intertwines with cooperative efforts, we collectively illuminate a brighter, more sustainable future</string>\r\n    <string name=\"g_start\">Start</string>\r\n    <!-- TODO: Remove or change this placeholder text -->\r\n    <string name=\"hello_blank_fragment\">Hello blank fragment</string>\r\n    <string name=\"all_your_orders\">All your orders in one \\n saved package</string>\r\n    <string name=\"g_register\">Register</string>\r\n    <string name=\"g_let_s_register\">Let\\'s Register</string>\r\n    <string name=\"g_do_you_have_an_account_log_in\">Do you have an account? log in</string>\r\n    <string name=\"g_first_name\">First Name</string>\r\n    <string name=\"g_email\">Email</string>\r\n    <string name=\"g_second_name\">Last Name</string>\r\n    <string name=\"g_password\">Password</string>\r\n    <string name=\"g_don_t_have_an_account_register\">Don\\'t have an account? Register</string>\r\n    <string name=\"g_let_s_login\">Let\\'s Login</string>\r\n    <string name=\"g_log_in\">Log in</string>\r\n    <string name=\"g_google\">Google</string>\r\n    <string name=\"g_facebook\">Facebook</string>\r\n    <string name=\"first_name_cant_be_empty\">First name can\\'t be empty</string>\r\n    <string name=\"last_name_cant_be_empty\">Last name can\\'t be empty</string>\r\n    <string name=\"email_cant_be_empty\">Email can\\'t be empty</string>\r\n    <string name=\"password_cant_be_empty\">password can\\'t be empty</string>\r\n    <string name=\"password_at_least_six\">password should have 6</string>\r\n    <string name=\"valid_email\">check your email</string>\r\n    <string name=\"signed_up_successfully\">you have created new account, login now</string>\r\n    <string name=\"g_home\">Novice</string>\r\n    <string name=\"g_search\">search</string>\r\n    <string name=\"g_cart\">Cart</string>\r\n    <string name=\"g_profile\">profile</string>\r\n    <string name=\"g_add_to_cart\">Add to cart</string>\r\n    <string name=\"g_search_now\">Search Now</string>\r\n    <string name=\"g_best_deals\">Best Deals</string>\r\n    <string name=\"g_chair\">Beginner</string>\r\n    <string name=\"g_cupboard\">Intermediate</string>\r\n    <string name=\"g_table\">Proficient</string>\r\n    <string name=\"g_accessory\">Advanced</string>\r\n    <string name=\"g_furniture\">Expert</string>\r\n    <string name=\"g_enlightening\">Master</string>\r\n    <string name=\"g_best_products\">Trending Courses</string>\r\n    <string name=\"g_see_product\">See product</string>\r\n    <string name=\"g_color\">Color</string>\r\n    <string name=\"g_size\">Size</string>\r\n    <string name=\"g_add_to_card\">Enroll Courses</string>\r\n    <string name=\"g_added\">Added</string>\r\n    <string name=\"g_already_added\">Product is in your cart</string>\r\n    <string name=\"g_please_select_color\">Please select color</string>\r\n    <string name=\"g_please_select_size\">Please select size</string>\r\n    <string name=\"g_my_cart\">My Course</string>\r\n    <string name=\"g_checkout\">Checkout</string>\r\n    <string name=\"g_total\">Total:</string>\r\n    <string name=\"g_your_shopping_cart_is_empty\">Your Course List \\n Is Empty</string>\r\n    <string name=\"g_delete_item\">Delete item</string>\r\n    <string name=\"g_are_you_sure_you_want_to_delete_this_item_from_cart\">Are you sure you want to delete this item from cart ?</string>\r\n    <string name=\"g_no\">No</string>\r\n    <string name=\"g_yes\">Yes</string>\r\n    <string name=\"g_categories\">Categories</string>\r\n    <string name=\"g_cancel\">Cancel</string>\r\n    <string name=\"g_payment_methods\">Redeem Reward</string>\r\n    <string name=\"payment_explanation\">Congratulations on completing one of our courses ! Kindly entered your address to redeem the reward ! </string>\r\n    <string name=\"g_shipping\">Address</string>\r\n    <string name=\"g_full_name\">Full Name</string>\r\n    <string name=\"g_city\">City</string>\r\n    <string name=\"g_phone\">Phone</string>\r\n    <string name=\"g_state\">State</string>\r\n    <string name=\"g_save\">Save</string>\r\n    <string name=\"g_address\">Address</string>\r\n    <string name=\"g_address_location_ie_home\">Address Location ie. Home</string>\r\n    <string name=\"g_update\">Update</string>\r\n    <string name=\"g_place_order\">Save</string>\r\n    <string name=\"g_delete\">Delete</string>\r\n    <string name=\"g_select_address_error\">Select or add new address !</string>\r\n    <string name=\"g_place_order_confirmation\">Are you sure you want to place this order ?</string>\r\n    <string name=\"g_confirm\">Confirm</string>\r\n    <string name=\"place_order_error\">Error occurred try again later or contact us</string>\r\n    <string name=\"g_payment_failed\">Your Order is Failed !</string>\r\n    <string name=\"g_payment_success\">Your Order is Completed</string>\r\n    <string name=\"order_error_message\">Try again later, if this error keeps showing up please contact us .</string>\r\n    <string name=\"order_success_message\">We received your order and we will contact you through a phone call in the next 24H\r\n    \\n your order number is #</string>\r\n    <string name=\"g_track_order\">You can track your order by going to your profile and select all orders then select your recent order.</string>\r\n    <string name=\"g_settings\">Settings</string>\r\n    <string name=\"g_edit_personal_details\">Edit personal details</string>\r\n    <string name=\"g_orders\">Courses</string>\r\n    <string name=\"g_order\">Order</string>\r\n    <string name=\"g_all_orders\">All Courses</string>\r\n    <string name=\"g__track_order\">Enrolled Courses</string>\r\n    <string name=\"g_notifications\">Notifications</string>\r\n    <string name=\"g_information\">Information</string>\r\n\r\n\r\n    <string name=\"g_admin\">Admin</string>\r\n    <string name=\"g_preference\">Preferences</string>\r\n    <string name=\"g_join_partnership\">Join Partnership</string>\r\n    <string name=\"g_logout\">Logout</string>\r\n    <string name=\"g_billing\">Billing And Addresses</string>\r\n    <string name=\"g_version\">Version</string>\r\n    <string name=\"error_occurred\">Oops error occurred</string>\r\n    <string name=\"g_edit_profile\">Edit Profile</string>\r\n    <string name=\"g_change_forgot_password\">Forgot/Change password</string>\r\n    <string name=\"g_cant_change_email_message\">You cannot change your email address, if you are looking to change it please contact with us</string>\r\n    <string name=\"select_profile_image\">Select profile image</string>\r\n    <string name=\"g_no_orders_to_show\">No courses to show</string>\r\n    <string name=\"g_reset_password\">Reset Password</string>\r\n    <string name=\"g_reset_password_message\">We will send you password reset link on your Email</string>\r\n    <string name=\"g_send\">Send</string>\r\n    <string name=\"g_password_reset\">We sent reset password link to your email</string>\r\n    <string name=\"g_order_placed\">Order Placed</string>\r\n    <string name=\"g_shipped\">Shipped</string>\r\n    <string name=\"g_delivered\">Delivered</string>\r\n    <string name=\"g_products\">Products</string>\r\n    <string name=\"g_coming_soon\">This feature is not available yet</string>\r\n    <string name=\"g_english\">English</string>\r\n    <string name=\"g_arabic\">عربي</string>\r\n    <string name=\"g_forgot_password\">Forgot Password</string>\r\n    <string name=\"g_check_your_email\">Check your Email</string>\r\n    <string name=\"street\">Street</string>\r\n    <string name=\"g_order_details\">Order Details</string>\r\n    <string name=\"product_added\">Product added to your cart</string>\r\n    <string name=\"switch_account\">Switch Account</string>\r\n    <string name=\"open_menu\">Open Menu</string>\r\n    <string name=\"close_menu\">Close Menu</string>\r\n    <string name=\"my_store\">My Store</string>\r\n    <string name=\"g_total_sales\">Total Sales</string>\r\n    <string name=\"today_sales\">Today Sales</string>\r\n    <string name=\"pending_orders\">Pending Orders</string>\r\n    <string name=\"help\">Help</string>\r\n    <string name=\"help_text\">Got a question? We\\'re here to answer!</string>\r\n\r\n    <!-- reward -->\r\n    <string name=\"titleVoucher\">Select Voucher</string>\r\n    <string name=\"okButton\">OK</string>\r\n    <string name=\"rewardName\">Reward Name</string>\r\n    <string name=\"rewardExpired\">Reward Expired Date</string>\r\n    <string name=\"labelVoucherExpiredDate\">Expired Date: </string>\r\n    <string name=\"voucherTermsCondition\">Terms and Conditions</string>\r\n    <string name=\"labelShippingVoucher\">Voucher(s) can be selected: </string>\r\n    <string name=\"voucherCodeHint\">Enter Voucher Code</string>\r\n    <string name=\"noVoucherMsg\">No voucher available!</string>\r\n    <string name=\"g_difficultyLevel\">Level : </string>\r\n    <string name=\"g_totalChapter\">Chapter : </string>\r\n    <string name=\"g_product_name_label\">Material Name</string>\r\n\r\n    <string name=\"voucherName\">Voucher</string>\r\n    <string name=\"rewardDescription\">Your reward description here</string>\r\n\r\n\r\n    <!-- Card View  -->\r\n\r\n    <string name=\"string_productCategory\">Course Category</string>\r\n    <string name=\"string_productTitle\">Course Title</string>\r\n    <string name=\"string_productPrice\">Product Price</string>\r\n    <string name=\"string_productRate\">4.9</string>\r\n    <string name=\"string_rate\">Rate</string>\r\n    <string name=\"string_product_image\">Course Image</string>\r\n    <string name=\"string_fav\">Favourite</string>\r\n\r\n\r\n    <string name=\"string_sale_text\">Grab Some Course !! </string>\r\n    <string name=\"string_curve_image\">Curve Image</string>\r\n    <string name=\"string_75\">520%</string>\r\n\r\n    <string name=\"string_status\">Status</string>\r\n\r\n    <string name=\"string_rating\">Rating</string>\r\n\r\n\r\n    <!-- Difficulty Levels  -->\r\n    <string-array name=\"difficulty_levels\">\r\n        <item>Novice</item>\r\n        <item>Beginners</item>\r\n        <item>Intermediate</item>\r\n        <item>Proficient</item>\r\n        <item>Advanced</item>\r\n        <item>Expert</item>\r\n        <item>Master</item>\r\n    </string-array>\r\n\r\n\r\n</resources>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/res/values/strings.xml b/app/src/main/res/values/strings.xml
--- a/app/src/main/res/values/strings.xml	(revision 8329d1d9692cc1f06318e32b70fe66538ec86e3d)
+++ b/app/src/main/res/values/strings.xml	(date 1695570525863)
@@ -140,7 +140,7 @@
     <string name="rewardExpired">Reward Expired Date</string>
     <string name="labelVoucherExpiredDate">Expired Date: </string>
     <string name="voucherTermsCondition">Terms and Conditions</string>
-    <string name="labelShippingVoucher">Voucher(s) can be selected: </string>
+    <string name="labelShippingVoucher">Reward(s) can be selected: </string>
     <string name="voucherCodeHint">Enter Voucher Code</string>
     <string name="noVoucherMsg">No voucher available!</string>
     <string name="g_difficultyLevel">Level : </string>
@@ -149,6 +149,8 @@
 
     <string name="voucherName">Voucher</string>
     <string name="rewardDescription">Your reward description here</string>
+    <string name="total_points">Total Points: %d</string>
+
 
 
     <!-- Card View  -->
Index: app/src/main/java/com/example/kleine/fragments/quiz/QuizFragment.kt
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package com.example.kleine.fragments.quiz\r\n\r\nimport android.os.Bundle\r\nimport androidx.fragment.app.Fragment\r\nimport android.view.LayoutInflater\r\nimport android.view.View\r\nimport android.view.ViewGroup\r\nimport androidx.databinding.DataBindingUtil\r\nimport androidx.navigation.findNavController\r\nimport com.example.kleine.R\r\nimport com.example.kleine.databinding.FragmentQuizBinding\r\n\r\n// TODO: Rename parameter arguments, choose names that match\r\n// the fragment initialization parameters, e.g. ARG_ITEM_NUMBER\r\nprivate const val ARG_PARAM1 = \"param1\"\r\nprivate const val ARG_PARAM2 = \"param2\"\r\n\r\n/**\r\n * A simple [Fragment] subclass.\r\n * Use the [QuizFragment.newInstance] factory method to\r\n * create an instance of this fragment.\r\n */\r\nclass QuizFragment : Fragment() {\r\n    private lateinit var binding: FragmentQuizBinding\r\n\r\n    override fun onCreateView(inflater: LayoutInflater, container: ViewGroup?, savedInstanceState: Bundle?): View? {\r\n        binding = DataBindingUtil.inflate(inflater, R.layout.fragment_quiz,container,false)\r\n        //The complete onClickListener with Navigation\r\n        binding.btnPlay.setOnClickListener { view : View ->\r\n            view.findNavController().navigate(R.id.action_quizFragment_to_playFragment)\r\n        }\r\n        return binding.root\r\n    }\r\n\r\n}
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/java/com/example/kleine/fragments/quiz/QuizFragment.kt b/app/src/main/java/com/example/kleine/fragments/quiz/QuizFragment.kt
--- a/app/src/main/java/com/example/kleine/fragments/quiz/QuizFragment.kt	(revision 8329d1d9692cc1f06318e32b70fe66538ec86e3d)
+++ b/app/src/main/java/com/example/kleine/fragments/quiz/QuizFragment.kt	(date 1695570525887)
@@ -5,10 +5,15 @@
 import android.view.LayoutInflater
 import android.view.View
 import android.view.ViewGroup
+import android.widget.Toast
 import androidx.databinding.DataBindingUtil
+import androidx.lifecycle.Observer
+import androidx.lifecycle.ViewModelProvider
 import androidx.navigation.findNavController
+import androidx.navigation.fragment.findNavController
 import com.example.kleine.R
 import com.example.kleine.databinding.FragmentQuizBinding
+import com.example.kleine.viewmodel.quiz.QuizViewModel
 
 // TODO: Rename parameter arguments, choose names that match
 // the fragment initialization parameters, e.g. ARG_ITEM_NUMBER
@@ -22,14 +27,56 @@
  */
 class QuizFragment : Fragment() {
     private lateinit var binding: FragmentQuizBinding
+    private lateinit var viewModel: QuizViewModel
 
     override fun onCreateView(inflater: LayoutInflater, container: ViewGroup?, savedInstanceState: Bundle?): View? {
         binding = DataBindingUtil.inflate(inflater, R.layout.fragment_quiz,container,false)
-        //The complete onClickListener with Navigation
-        binding.btnPlay.setOnClickListener { view : View ->
-            view.findNavController().navigate(R.id.action_quizFragment_to_playFragment)
+        viewModel = ViewModelProvider(this).get(QuizViewModel::class.java)
+        binding.lifecycleOwner = viewLifecycleOwner
+
+        val materialDocId: String? = arguments?.getString("materialDocId")
+
+        materialDocId?.let {
+            viewModel.fetchAndDisplayMaterialName(it)
         }
+
+        // Observe changes in ViewModel
+        viewModel.materialNameLiveData.observe(viewLifecycleOwner, Observer{ materialName ->
+            binding.materialName.text = materialName
+        })
+
+        viewModel.showToastLiveData.observe(viewLifecycleOwner, Observer{ message ->
+            Toast.makeText(context, message, Toast.LENGTH_SHORT).show()
+        })
+
+        viewModel.navigateToPlayFragmentLiveData.observe(viewLifecycleOwner, Observer { setId ->
+            val materialId = materialDocId ?: return@Observer
+            if (setId != null) {
+                val action = QuizFragmentDirections.actionQuizFragmentToPlayFragment(materialId, setId)
+                findNavController().navigate(action)
+                // Resetting the LiveData value to null after navigation
+                viewModel.navigateToPlayFragmentLiveData.value = null
+            }
+        })
+
+        viewModel.showToastLiveData.observe(this, Observer { message ->
+            if (message == "No available sets with sufficient questions") {
+                // Display a toast message
+                Toast.makeText(context, message, Toast.LENGTH_SHORT).show()
+            }
+        })
+
+
+        binding.btnPlay.setOnClickListener { view ->
+            materialDocId?.let {
+                viewModel.checkAvailableSetsAndNavigate(it, view)
+            }
+        }
+
+        binding.btnExit.setOnClickListener {
+            findNavController().navigate(R.id.action_quizFragment_to_profileFragment)
+        }
+
         return binding.root
     }
-
-}
\ No newline at end of file
+}
Index: app/src/main/res/drawable/background_btn.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?xml version=\"1.0\" encoding=\"utf-8\"?>\r\n<selector xmlns:android=\"http://schemas.android.com/apk/res/android\">\r\n    <item>\r\n        <shape>\r\n            <solid android:color=\"@color/black\"/>\r\n            <corners android:radius=\"25sp\"/>\r\n\r\n\r\n        </shape>\r\n    </item>\r\n</selector>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/res/drawable/background_btn.xml b/app/src/main/res/drawable/background_btn.xml
--- a/app/src/main/res/drawable/background_btn.xml	(revision 8329d1d9692cc1f06318e32b70fe66538ec86e3d)
+++ b/app/src/main/res/drawable/background_btn.xml	(date 1695570525913)
@@ -2,7 +2,7 @@
 <selector xmlns:android="http://schemas.android.com/apk/res/android">
     <item>
         <shape>
-            <solid android:color="@color/black"/>
+            <solid android:color="@color/white"/>
             <corners android:radius="25sp"/>
 
 
Index: app/src/main/res/drawable/background_btn_choose.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?xml version=\"1.0\" encoding=\"utf-8\"?>\r\n<selector xmlns:android=\"http://schemas.android.com/apk/res/android\">\r\n    <item>\r\n\r\n        <shape android:shape=\"rectangle\">\r\n\r\n            <stroke android:color=\"@color/black\"\r\n                    android:width=\"2dp\"\r\n                ></stroke>\r\n            <corners android:radius=\"5sp\"/>\r\n        </shape>\r\n\r\n    </item>\r\n</selector>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/res/drawable/background_btn_choose.xml b/app/src/main/res/drawable/background_btn_choose.xml
--- a/app/src/main/res/drawable/background_btn_choose.xml	(revision 8329d1d9692cc1f06318e32b70fe66538ec86e3d)
+++ b/app/src/main/res/drawable/background_btn_choose.xml	(date 1695570525975)
@@ -4,7 +4,7 @@
 
         <shape android:shape="rectangle">
 
-            <stroke android:color="@color/black"
+            <stroke android:color="#AFAFAF"
                     android:width="2dp"
                 ></stroke>
             <corners android:radius="5sp"/>
Index: app/src/main/java/com/example/kleine/fragments/quiz/PlayFragment.kt
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package com.example.kleine.fragments.quiz\r\n\r\nimport android.app.Dialog\r\nimport android.os.Bundle\r\nimport android.view.LayoutInflater\r\nimport android.view.View\r\nimport android.view.ViewGroup\r\nimport android.view.WindowManager\r\nimport android.widget.Button\r\nimport android.widget.Toast\r\nimport androidx.databinding.DataBindingUtil\r\nimport androidx.fragment.app.Fragment\r\nimport androidx.lifecycle.Observer\r\nimport androidx.lifecycle.ViewModelProvider\r\nimport androidx.navigation.fragment.findNavController\r\nimport com.example.kleine.R\r\nimport com.example.kleine.databinding.FragmentPlayBinding\r\nimport com.example.kleine.viewmodel.quiz.PlayViewModel\r\n\r\nclass PlayFragment : Fragment() {\r\n\r\n    private lateinit var binding: FragmentPlayBinding\r\n    private lateinit var viewModel: PlayViewModel\r\n\r\n    override fun onCreateView(\r\n        inflater: LayoutInflater, container: ViewGroup?,\r\n        savedInstanceState: Bundle?\r\n    ): View {\r\n        binding = DataBindingUtil.inflate(inflater, R.layout.fragment_play, container, false)\r\n\r\n        viewModel = ViewModelProvider(this).get(PlayViewModel::class.java)\r\n\r\n        // Set the viewModel for data binding - this allows the bound layout access\r\n        // to all the data in the VieWModel\r\n        binding.playViewModel = viewModel\r\n\r\n        // Specify the fragment view as the lifecycle owner of the binding.\r\n        // This is used so that the binding can observe LiveData updates\r\n        binding.lifecycleOwner = viewLifecycleOwner\r\n\r\n        binding.imageBack.setOnClickListener {\r\n            // handle back click\r\n            findNavController().navigateUp()\r\n        }\r\n\r\n        // Observe LiveData and set button backgrounds\r\n        viewModel.btnBackground.observe(viewLifecycleOwner, Observer { resId ->\r\n            binding.btnChoose1.setBackgroundResource(resId)\r\n            binding.btnChoose2.setBackgroundResource(resId)\r\n            binding.btnChoose3.setBackgroundResource(resId)\r\n            binding.btnChoose4.setBackgroundResource(resId)\r\n        })\r\n\r\n        viewModel.toastMessage.observe(viewLifecycleOwner, Observer { message ->\r\n            if (viewModel.showToastMsg.value!!) {\r\n                Toast.makeText(requireActivity(), message, Toast.LENGTH_SHORT).show()\r\n                viewModel.resetShowToastMsg()\r\n            }\r\n        })\r\n\r\n        viewModel.showDialogEvent.observe(viewLifecycleOwner, Observer { shouldShow  ->\r\n            if (shouldShow) {\r\n                val dialog = Dialog(requireActivity())\r\n                dialog.window?.addFlags(WindowManager.LayoutParams.FLAG_BLUR_BEHIND)\r\n                dialog.setCancelable(false)\r\n                dialog.setContentView(R.layout.timeout_dialog)\r\n\r\n                // Assuming that tryAgain is the ID of the button in your timeout_dialog layout\r\n                val tryAgainButton: Button = dialog.findViewById(R.id.tryAgain)\r\n                tryAgainButton.setOnClickListener {\r\n                    dialog.dismiss()\r\n                    // Assuming you're using Navigation component, use findNavController to navigate\r\n                    findNavController().popBackStack(R.id.quizFragment, false)\r\n                }\r\n\r\n                dialog.window?.setBackgroundDrawableResource(R.drawable.background_btn)\r\n                dialog.show()\r\n            }\r\n        })\r\n\r\n        viewModel.navigateToResult.observe(viewLifecycleOwner, Observer<Boolean> { shouldNavigate ->\r\n            if (shouldNavigate) {\r\n                // Create a Bundle and put the score inside\r\n                val bundle = Bundle().apply {\r\n                    putInt(\"Result\", viewModel.scorePlayer.value!!)\r\n                }\r\n                findNavController().navigate(R.id.action_playFragment_to_resultFragment, bundle)\r\n            }\r\n        })\r\n\r\n        return binding.root\r\n    }\r\n\r\n}\r\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/java/com/example/kleine/fragments/quiz/PlayFragment.kt b/app/src/main/java/com/example/kleine/fragments/quiz/PlayFragment.kt
--- a/app/src/main/java/com/example/kleine/fragments/quiz/PlayFragment.kt	(revision 8329d1d9692cc1f06318e32b70fe66538ec86e3d)
+++ b/app/src/main/java/com/example/kleine/fragments/quiz/PlayFragment.kt	(date 1695570525991)
@@ -16,19 +16,30 @@
 import com.example.kleine.R
 import com.example.kleine.databinding.FragmentPlayBinding
 import com.example.kleine.viewmodel.quiz.PlayViewModel
+import com.example.kleine.viewmodel.quiz.PlayViewModelFactory
+import androidx.activity.OnBackPressedCallback
+
 
 class PlayFragment : Fragment() {
 
     private lateinit var binding: FragmentPlayBinding
     private lateinit var viewModel: PlayViewModel
 
+    private val backPressCallback = object : OnBackPressedCallback(true) {
+        override fun handleOnBackPressed() {
+            // Do nothing, thus disabling the back button
+        }
+    }
+
     override fun onCreateView(
         inflater: LayoutInflater, container: ViewGroup?,
         savedInstanceState: Bundle?
     ): View {
         binding = DataBindingUtil.inflate(inflater, R.layout.fragment_play, container, false)
 
-        viewModel = ViewModelProvider(this).get(PlayViewModel::class.java)
+        val materialID = arguments?.getString("materialDocId")
+        val setID = arguments?.getString("randomSetId")
+        viewModel = ViewModelProvider(this, PlayViewModelFactory(materialID, setID)).get(PlayViewModel::class.java)
 
         // Set the viewModel for data binding - this allows the bound layout access
         // to all the data in the VieWModel
@@ -38,10 +49,12 @@
         // This is used so that the binding can observe LiveData updates
         binding.lifecycleOwner = viewLifecycleOwner
 
-        binding.imageBack.setOnClickListener {
-            // handle back click
-            findNavController().navigateUp()
-        }
+//        binding.imageBack.setOnClickListener {
+//            // handle back click
+//            findNavController().navigateUp()
+//        }
+
+        binding.imageBack.visibility = View.GONE
 
         // Observe LiveData and set button backgrounds
         viewModel.btnBackground.observe(viewLifecycleOwner, Observer { resId ->
@@ -83,12 +96,25 @@
                 // Create a Bundle and put the score inside
                 val bundle = Bundle().apply {
                     putInt("Result", viewModel.scorePlayer.value!!)
+                    putInt("TotalQuestions", viewModel.questionList.size)
+                    putString("materialDocId", materialID)
+                    putString("setID", setID)
                 }
                 findNavController().navigate(R.id.action_playFragment_to_resultFragment, bundle)
             }
         })
 
+        // Add OnBackPressedCallback
+        requireActivity().onBackPressedDispatcher.addCallback(viewLifecycleOwner, backPressCallback)
+
         return binding.root
     }
 
+    override fun onDestroyView() {
+        // Disable the OnBackPressedCallback
+        backPressCallback.isEnabled = false
+        super.onDestroyView()
+    }
+
+
 }
Index: app/src/main/res/layout/fragment_play.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?xml version=\"1.0\" encoding=\"utf-8\"?>\r\n<layout xmlns:android=\"http://schemas.android.com/apk/res/android\"\r\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\r\n    xmlns:tools=\"http://schemas.android.com/tools\">\r\n\r\n    <data>\r\n        <variable\r\n            name=\"playViewModel\"\r\n            type=\"com.example.kleine.viewmodel.quiz.PlayViewModel\" />\r\n    </data>\r\n\r\n    <androidx.constraintlayout.widget.ConstraintLayout\r\n        android:layout_width=\"match_parent\"\r\n        android:layout_height=\"match_parent\"\r\n        android:background=\"@color/white\" >\r\n\r\n        <androidx.constraintlayout.widget.ConstraintLayout\r\n            android:id=\"@+id/constraintLayout\"\r\n            android:layout_width=\"match_parent\"\r\n            android:layout_height=\"0dp\"\r\n            android:background=\"@drawable/background_top\"\r\n            app:layout_constraintEnd_toEndOf=\"parent\"\r\n            app:layout_constraintHeight_percent=\"0.35\"\r\n            app:layout_constraintHorizontal_bias=\"0.0\"\r\n            app:layout_constraintStart_toStartOf=\"parent\"\r\n            app:layout_constraintTop_toTopOf=\"parent\">\r\n\r\n            <ImageView\r\n                android:id=\"@+id/imageView\"\r\n                android:layout_width=\"30dp\"\r\n                android:layout_height=\"30dp\"\r\n                app:layout_constraintBottom_toBottomOf=\"parent\"\r\n                app:layout_constraintEnd_toEndOf=\"parent\"\r\n                app:layout_constraintStart_toStartOf=\"parent\"\r\n                app:layout_constraintTop_toTopOf=\"parent\"\r\n                app:layout_constraintVertical_bias=\"0.94\"\r\n                app:srcCompat=\"@drawable/clock\" />\r\n\r\n            <TextView\r\n                android:id=\"@+id/cpt_question\"\r\n                android:layout_width=\"wrap_content\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:layout_marginTop=\"16dp\"\r\n                android:layout_marginEnd=\"16dp\"\r\n                android:text=\"@{playViewModel.cptQuestionText}\"\r\n                android:textColor=\"@color/white\"\r\n                android:textSize=\"20sp\"\r\n                android:fontFamily=\"@font/chakrapetchbold\"\r\n\r\n                app:layout_constraintEnd_toEndOf=\"parent\"\r\n                app:layout_constraintHorizontal_bias=\"1.0\"\r\n                app:layout_constraintStart_toEndOf=\"@+id/image_back\"\r\n                app:layout_constraintTop_toTopOf=\"parent\" />\r\n\r\n            <TextView\r\n                android:id=\"@+id/text_question\"\r\n                android:layout_width=\"0dp\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:layout_marginStart=\"16dp\"\r\n                android:layout_marginEnd=\"16dp\"\r\n                android:fontFamily=\"@font/chakrapetchbold\"\r\n                android:text=\"@{playViewModel.questionText}\"\r\n                android:textColor=\"@color/white\"\r\n                android:textSize=\"20sp\"\r\n                android:gravity=\"center\"\r\n                android:textStyle=\"bold\"\r\n                app:layout_constraintBottom_toBottomOf=\"parent\"\r\n                app:layout_constraintEnd_toEndOf=\"parent\"\r\n                app:layout_constraintStart_toStartOf=\"parent\"\r\n                app:layout_constraintTop_toTopOf=\"parent\" />\r\n\r\n            <ImageView\r\n                android:id=\"@+id/image_back\"\r\n                android:layout_width=\"wrap_content\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:layout_marginStart=\"16dp\"\r\n                android:layout_marginTop=\"16dp\"\r\n                app:layout_constraintStart_toStartOf=\"parent\"\r\n                app:layout_constraintTop_toTopOf=\"parent\"\r\n                app:srcCompat=\"@drawable/ic_back\" />\r\n\r\n            <TextView\r\n                android:id=\"@+id/timer_text\"\r\n                android:layout_width=\"wrap_content\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:layout_marginStart=\"8dp\"\r\n                android:text=\"@{playViewModel.remainingTime}\"\r\n                android:textColor=\"@color/white\"\r\n                android:textStyle=\"bold\"\r\n                app:layout_constraintBottom_toBottomOf=\"@+id/imageView\"\r\n                app:layout_constraintStart_toEndOf=\"@+id/imageView\"\r\n                app:layout_constraintTop_toTopOf=\"@+id/imageView\" />\r\n        </androidx.constraintlayout.widget.ConstraintLayout>\r\n\r\n        <Button\r\n            android:id=\"@+id/btn_next\"\r\n            android:layout_width=\"0dp\"\r\n            android:layout_height=\"wrap_content\"\r\n            android:text=\"Next\"\r\n            android:textColor=\"@color/white\"\r\n            android:fontFamily=\"@font/chakrapetchbold\"\r\n            android:textSize=\"20sp\"\r\n            android:padding=\"12sp\"\r\n            android:onClick=\"@{() -> playViewModel.nextQuestion()}\"\r\n            android:background=\"@color/primary_color\"\r\n            app:layout_constraintBottom_toBottomOf=\"parent\"\r\n            app:layout_constraintEnd_toEndOf=\"parent\"\r\n            app:layout_constraintStart_toStartOf=\"parent\" />\r\n\r\n        <LinearLayout\r\n            android:layout_width=\"match_parent\"\r\n            android:layout_height=\"wrap_content\"\r\n            android:layout_marginStart=\"16dp\"\r\n            android:layout_marginEnd=\"16dp\"\r\n            android:orientation=\"vertical\"\r\n            app:layout_constraintBottom_toTopOf=\"@+id/btn_next\"\r\n            app:layout_constraintEnd_toEndOf=\"parent\"\r\n            app:layout_constraintStart_toStartOf=\"parent\"\r\n            app:layout_constraintTop_toBottomOf=\"@+id/constraintLayout\">\r\n\r\n            <Button\r\n                android:id=\"@+id/btn_choose1\"\r\n                android:layout_width=\"match_parent\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:background=\"@drawable/background_btn_choose\"\r\n                android:fontFamily=\"@font/chakrapetchbold\"\r\n                android:onClick=\"@{(view) -> playViewModel.clickChoose(view)}\"\r\n                android:text=\"@{playViewModel.btnChoice1Text}\"\r\n                android:textColor=\"@color/black\"\r\n                android:textSize=\"16sp\" />\r\n\r\n            <Button\r\n                android:id=\"@+id/btn_choose2\"\r\n                android:layout_width=\"match_parent\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:layout_marginTop=\"12dp\"\r\n                android:background=\"@drawable/background_btn_choose\"\r\n                android:fontFamily=\"@font/chakrapetchbold\"\r\n                android:onClick=\"@{(view) -> playViewModel.clickChoose(view)}\"\r\n                android:text=\"@{playViewModel.btnChoice2Text}\"\r\n                android:textColor=\"@color/black\"\r\n                android:textSize=\"16sp\" />\r\n\r\n            <Button\r\n                android:id=\"@+id/btn_choose3\"\r\n                android:layout_width=\"match_parent\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:layout_marginTop=\"12dp\"\r\n                android:background=\"@drawable/background_btn_choose\"\r\n                android:fontFamily=\"@font/chakrapetchbold\"\r\n                android:onClick=\"@{(view) -> playViewModel.clickChoose(view)}\"\r\n                android:text=\"@{playViewModel.btnChoice3Text}\"\r\n                android:textColor=\"@color/black\"\r\n                android:textSize=\"16sp\" />\r\n\r\n            <Button\r\n                android:id=\"@+id/btn_choose4\"\r\n                android:layout_width=\"match_parent\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:layout_marginTop=\"12dp\"\r\n                android:background=\"@drawable/background_btn_choose\"\r\n                android:fontFamily=\"@font/chakrapetchbold\"\r\n                android:onClick=\"@{(view) -> playViewModel.clickChoose(view)}\"\r\n                android:text=\"@{playViewModel.btnChoice4Text}\"\r\n                android:textColor=\"@color/black\"\r\n                android:textSize=\"16sp\" />\r\n        </LinearLayout>\r\n    </androidx.constraintlayout.widget.ConstraintLayout>\r\n</layout>\r\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/res/layout/fragment_play.xml b/app/src/main/res/layout/fragment_play.xml
--- a/app/src/main/res/layout/fragment_play.xml	(revision 8329d1d9692cc1f06318e32b70fe66538ec86e3d)
+++ b/app/src/main/res/layout/fragment_play.xml	(date 1695570526008)
@@ -93,6 +93,7 @@
         </androidx.constraintlayout.widget.ConstraintLayout>
 
         <Button
+            style="@style/Widget.Kleine.Button"
             android:id="@+id/btn_next"
             android:layout_width="0dp"
             android:layout_height="wrap_content"
@@ -119,6 +120,7 @@
             app:layout_constraintTop_toBottomOf="@+id/constraintLayout">
 
             <Button
+                style="@style/Widget.Kleine.Button"
                 android:id="@+id/btn_choose1"
                 android:layout_width="match_parent"
                 android:layout_height="wrap_content"
@@ -130,6 +132,7 @@
                 android:textSize="16sp" />
 
             <Button
+                style="@style/Widget.Kleine.Button"
                 android:id="@+id/btn_choose2"
                 android:layout_width="match_parent"
                 android:layout_height="wrap_content"
@@ -142,6 +145,7 @@
                 android:textSize="16sp" />
 
             <Button
+                style="@style/Widget.Kleine.Button"
                 android:id="@+id/btn_choose3"
                 android:layout_width="match_parent"
                 android:layout_height="wrap_content"
@@ -154,6 +158,7 @@
                 android:textSize="16sp" />
 
             <Button
+                style="@style/Widget.Kleine.Button"
                 android:id="@+id/btn_choose4"
                 android:layout_width="match_parent"
                 android:layout_height="wrap_content"
Index: app/src/main/res/layout/fragment_result.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?xml version=\"1.0\" encoding=\"utf-8\"?>\r\n<layout xmlns:android=\"http://schemas.android.com/apk/res/android\"\r\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\r\n    xmlns:tools=\"http://schemas.android.com/tools\">\r\n\r\n    <data>\r\n        <!-- Declare variables or imports here if needed -->\r\n    </data>\r\n\r\n    <androidx.constraintlayout.widget.ConstraintLayout\r\n        android:layout_width=\"match_parent\"\r\n        android:layout_height=\"match_parent\"\r\n        android:background=\"@color/primary_color\" >\r\n\r\n        <TextView\r\n            android:id=\"@+id/textView\"\r\n            android:layout_width=\"wrap_content\"\r\n            android:layout_height=\"wrap_content\"\r\n            android:text=\"Score : \"\r\n            android:textSize=\"35sp\"\r\n            android:textColor=\"@color/white\"\r\n            android:textStyle=\"bold\"\r\n            android:fontFamily=\"@font/chakrapetchbold\"\r\n            app:layout_constraintBottom_toBottomOf=\"parent\"\r\n            app:layout_constraintEnd_toEndOf=\"parent\"\r\n            app:layout_constraintStart_toStartOf=\"parent\"\r\n            app:layout_constraintTop_toTopOf=\"parent\"\r\n            app:layout_constraintVertical_bias=\"0.3\" />\r\n\r\n        <Button\r\n            android:id=\"@+id/btn_restart\"\r\n            android:layout_width=\"match_parent\"\r\n            android:layout_height=\"wrap_content\"\r\n            android:layout_marginStart=\"30dp\"\r\n            android:layout_marginEnd=\"30dp\"\r\n            android:background=\"@drawable/background_btn\"\r\n            android:fontFamily=\"@font/chakrapetchbold\"\r\n            android:padding=\"8dp\"\r\n            android:text=\"Restart\"\r\n            android:textColor=\"@color/primary_color\"\r\n            android:textSize=\"20sp\"\r\n            android:textStyle=\"bold\"\r\n            app:layout_constraintBottom_toBottomOf=\"parent\"\r\n            app:layout_constraintEnd_toEndOf=\"parent\"\r\n            app:layout_constraintStart_toStartOf=\"parent\"\r\n            app:layout_constraintTop_toBottomOf=\"@+id/textView\"\r\n            app:layout_constraintVertical_bias=\"0.37\" />\r\n\r\n    </androidx.constraintlayout.widget.ConstraintLayout>\r\n</layout>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/res/layout/fragment_result.xml b/app/src/main/res/layout/fragment_result.xml
--- a/app/src/main/res/layout/fragment_result.xml	(revision 8329d1d9692cc1f06318e32b70fe66538ec86e3d)
+++ b/app/src/main/res/layout/fragment_result.xml	(date 1695570526023)
@@ -28,6 +28,7 @@
             app:layout_constraintVertical_bias="0.3" />
 
         <Button
+            style="@style/Widget.Kleine.Button"
             android:id="@+id/btn_restart"
             android:layout_width="match_parent"
             android:layout_height="wrap_content"
Index: app/src/main/res/layout/fragment_quiz.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?xml version=\"1.0\" encoding=\"utf-8\"?>\r\n<layout xmlns:android=\"http://schemas.android.com/apk/res/android\"\r\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\r\n    xmlns:tools=\"http://schemas.android.com/tools\">\r\n\r\n    <data>\r\n        <!-- Declare variables or imports here if needed -->\r\n    </data>\r\n\r\n    <androidx.constraintlayout.widget.ConstraintLayout\r\n        android:layout_width=\"match_parent\"\r\n        android:layout_height=\"match_parent\"\r\n        android:background=\"@color/primary_color\" >\r\n\r\n        <TextView\r\n            android:id=\"@+id/textView\"\r\n            android:layout_width=\"wrap_content\"\r\n            android:layout_height=\"wrap_content\"\r\n            android:text=\"RANANGANAM\"\r\n            android:textSize=\"35sp\"\r\n            android:textColor=\"@color/white\"\r\n            android:textStyle=\"bold\"\r\n            android:fontFamily=\"@font/chakrapetchbold\"\r\n            app:layout_constraintBottom_toBottomOf=\"parent\"\r\n            app:layout_constraintEnd_toEndOf=\"parent\"\r\n            app:layout_constraintStart_toStartOf=\"parent\"\r\n            app:layout_constraintTop_toTopOf=\"parent\"\r\n            app:layout_constraintVertical_bias=\"0.25\" />\r\n\r\n        <LinearLayout\r\n            android:layout_width=\"match_parent\"\r\n            android:layout_height=\"wrap_content\"\r\n            android:orientation=\"vertical\"\r\n            app:layout_constraintBottom_toBottomOf=\"parent\"\r\n            app:layout_constraintEnd_toEndOf=\"parent\"\r\n            app:layout_constraintStart_toStartOf=\"parent\"\r\n            android:layout_marginLeft=\"20sp\"\r\n            android:layout_marginRight=\"20sp\"\r\n            app:layout_constraintTop_toBottomOf=\"@+id/textView\">\r\n\r\n            <Button\r\n                android:id=\"@+id/btn_play\"\r\n                android:layout_width=\"match_parent\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:background=\"@drawable/background_btn\"\r\n                android:textStyle=\"bold\"\r\n                android:textColor=\"@color/primary_color\"\r\n                android:fontFamily=\"@font/chakrapetchbold\"\r\n                android:textSize=\"20sp\"\r\n                android:padding=\"8dp\"\r\n                android:onClick=\"main_btn\"\r\n                android:text=\"Play\" />\r\n\r\n            <Button\r\n                android:id=\"@+id/btn_setting\"\r\n                android:layout_width=\"match_parent\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:layout_marginTop=\"16dp\"\r\n                android:background=\"@drawable/background_btn\"\r\n                android:textStyle=\"bold\"\r\n                android:textColor=\"@color/primary_color\"\r\n                android:fontFamily=\"@font/chakrapetchbold\"\r\n                android:textSize=\"20sp\"\r\n                android:padding=\"8dp\"\r\n                android:onClick=\"main_btn\"\r\n                android:text=\"Setting\" />\r\n\r\n            <Button\r\n                android:id=\"@+id/btn_exit\"\r\n                android:layout_width=\"match_parent\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:layout_marginTop=\"16dp\"\r\n                android:background=\"@drawable/background_btn\"\r\n                android:textStyle=\"bold\"\r\n                android:textColor=\"@color/primary_color\"\r\n                android:fontFamily=\"@font/chakrapetchbold\"\r\n                android:textSize=\"20sp\"\r\n                android:onClick=\"main_btn\"\r\n                android:padding=\"8dp\"\r\n                android:text=\"Exit\" />\r\n        </LinearLayout>\r\n    </androidx.constraintlayout.widget.ConstraintLayout>\r\n</layout>\r\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/res/layout/fragment_quiz.xml b/app/src/main/res/layout/fragment_quiz.xml
--- a/app/src/main/res/layout/fragment_quiz.xml	(revision 8329d1d9692cc1f06318e32b70fe66538ec86e3d)
+++ b/app/src/main/res/layout/fragment_quiz.xml	(date 1695570526039)
@@ -13,13 +13,14 @@
         android:background="@color/primary_color" >
 
         <TextView
-            android:id="@+id/textView"
-            android:layout_width="wrap_content"
+            android:id="@+id/material_name"
+            android:layout_width="0dp"
             android:layout_height="wrap_content"
-            android:text="RANANGANAM"
+            android:text=""
             android:textSize="35sp"
             android:textColor="@color/white"
             android:textStyle="bold"
+            android:gravity="center_horizontal"
             android:fontFamily="@font/chakrapetchbold"
             app:layout_constraintBottom_toBottomOf="parent"
             app:layout_constraintEnd_toEndOf="parent"
@@ -36,9 +37,10 @@
             app:layout_constraintStart_toStartOf="parent"
             android:layout_marginLeft="20sp"
             android:layout_marginRight="20sp"
-            app:layout_constraintTop_toBottomOf="@+id/textView">
+            app:layout_constraintTop_toBottomOf="@+id/material_name">
 
             <Button
+                style="@style/Widget.Kleine.Button"
                 android:id="@+id/btn_play"
                 android:layout_width="match_parent"
                 android:layout_height="wrap_content"
@@ -52,20 +54,7 @@
                 android:text="Play" />
 
             <Button
-                android:id="@+id/btn_setting"
-                android:layout_width="match_parent"
-                android:layout_height="wrap_content"
-                android:layout_marginTop="16dp"
-                android:background="@drawable/background_btn"
-                android:textStyle="bold"
-                android:textColor="@color/primary_color"
-                android:fontFamily="@font/chakrapetchbold"
-                android:textSize="20sp"
-                android:padding="8dp"
-                android:onClick="main_btn"
-                android:text="Setting" />
-
-            <Button
+                style="@style/Widget.Kleine.Button"
                 android:id="@+id/btn_exit"
                 android:layout_width="match_parent"
                 android:layout_height="wrap_content"
Index: app/src/main/res/layout/fragment_profile.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?xml version=\"1.0\" encoding=\"utf-8\"?>\r\n<androidx.core.widget.NestedScrollView xmlns:android=\"http://schemas.android.com/apk/res/android\"\r\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\r\n    xmlns:tools=\"http://schemas.android.com/tools\"\r\n    android:layout_width=\"match_parent\"\r\n    android:layout_height=\"match_parent\"\r\n    android:fillViewport=\"true\"\r\n    tools:context=\".fragments.shopping.ProfileFragment\"\r\n    android:background=\"#F4F4F4\">\r\n\r\n\r\n\r\n    <androidx.constraintlayout.widget.ConstraintLayout\r\n        android:layout_width=\"match_parent\"\r\n        android:layout_height=\"match_parent\">\r\n\r\n        <ProgressBar\r\n            android:id=\"@+id/progressbar_settings\"\r\n            android:layout_width=\"wrap_content\"\r\n            android:layout_height=\"wrap_content\"\r\n            app:layout_constraintEnd_toEndOf=\"parent\"\r\n            app:layout_constraintStart_toStartOf=\"parent\"\r\n            app:layout_constraintTop_toTopOf=\"parent\"\r\n            app:layout_constraintBottom_toBottomOf=\"parent\"\r\n            android:indeterminateTint=\"@color/g_hint\"\r\n            android:visibility=\"gone\"/>\r\n\r\n        <androidx.constraintlayout.widget.ConstraintLayout\r\n            android:id=\"@+id/constraint_parnet\"\r\n            android:layout_width=\"match_parent\"\r\n            android:layout_height=\"match_parent\"\r\n            tools:layout_editor_absoluteX=\"16dp\"\r\n            tools:layout_editor_absoluteY=\"-378dp\">\r\n\r\n            <TextView\r\n                android:id=\"@+id/tv_settings\"\r\n                style=\"@style/BigTextViewThin\"\r\n                android:layout_width=\"wrap_content\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:layout_marginTop=\"10dp\"\r\n                android:text=\"@string/g_settings\"\r\n                app:layout_constraintStart_toStartOf=\"@id/guideline1\"\r\n                app:layout_constraintTop_toTopOf=\"parent\" />\r\n\r\n            <androidx.constraintlayout.widget.ConstraintLayout\r\n                android:id=\"@+id/constraint_profile\"\r\n                android:layout_width=\"0dp\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:layout_marginTop=\"8dp\"\r\n                app:layout_constraintEnd_toEndOf=\"@id/guideline2\"\r\n                app:layout_constraintStart_toStartOf=\"@id/guideline1\"\r\n                app:layout_constraintTop_toBottomOf=\"@+id/tv_settings\">\r\n\r\n                <de.hdodenhof.circleimageview.CircleImageView\r\n                    android:id=\"@+id/img_user\"\r\n                    android:layout_width=\"@dimen/_43sdp\"\r\n                    android:layout_height=\"@dimen/_43sdp\"\r\n                    android:background=\"@drawable/profile_img_background\"\r\n                    android:src=\"@drawable/test_image\"\r\n                    app:layout_constraintStart_toStartOf=\"parent\"\r\n                    app:layout_constraintTop_toTopOf=\"parent\" />\r\n\r\n\r\n                <TextView\r\n                    android:id=\"@+id/tv_user_name\"\r\n                    style=\"@style/MediumTextViewThin\"\r\n                    android:layout_width=\"wrap_content\"\r\n                    android:layout_height=\"wrap_content\"\r\n                    android:layout_marginStart=\"10dp\"\r\n                    android:layout_marginTop=\"3dp\"\r\n                    android:text=\"Name\"\r\n                    app:layout_constraintStart_toEndOf=\"@id/img_user\"\r\n                    app:layout_constraintTop_toTopOf=\"@+id/img_user\" />\r\n\r\n\r\n                <TextView\r\n                    android:id=\"@+id/tv_edit_personal_details\"\r\n                    style=\"@style/SmallTextViewThin\"\r\n                    android:layout_width=\"wrap_content\"\r\n                    android:layout_height=\"wrap_content\"\r\n                    android:text=\"@string/g_edit_personal_details\"\r\n                    app:layout_constraintStart_toStartOf=\"@+id/tv_user_name\"\r\n                    app:layout_constraintTop_toBottomOf=\"@id/tv_user_name\" />\r\n\r\n                <ImageView\r\n                    android:id=\"@+id/arrow\"\r\n                    android:layout_width=\"@dimen/_15sdp\"\r\n                    android:layout_height=\"@dimen/_15sdp\"\r\n                    android:src=\"@drawable/ic_arrow\"\r\n                    app:layout_constraintBottom_toBottomOf=\"@id/tv_edit_personal_details\"\r\n                    app:layout_constraintEnd_toEndOf=\"@id/constraint_profile\"\r\n                    app:layout_constraintTop_toTopOf=\"@id/tv_user_name\"\r\n                    app:tint=\"@color/g_icon_tint\" />\r\n\r\n\r\n            </androidx.constraintlayout.widget.ConstraintLayout>\r\n\r\n\r\n            <TextView\r\n                android:id=\"@+id/admin_orders\"\r\n                style=\"@style/MediumTextViewThin\"\r\n                android:layout_width=\"wrap_content\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:layout_marginTop=\"20dp\"\r\n                android:text=\"@string/g_admin\"\r\n                android:textColor=\"@color/g_hint\"\r\n                android:textStyle=\"normal\"\r\n                android:visibility=\"gone\"\r\n                app:layout_constraintStart_toStartOf=\"@id/guideline1\"\r\n                app:layout_constraintTop_toBottomOf=\"@id/constraint_profile\" />\r\n\r\n            <LinearLayout\r\n                android:visibility=\"gone\"\r\n                android:id=\"@+id/linear_admin\"\r\n                android:layout_width=\"0dp\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:layout_marginTop=\"10dp\"\r\n                android:background=\"@drawable/search_box_background\"\r\n                android:orientation=\"vertical\"\r\n                app:layout_constraintEnd_toEndOf=\"@id/guideline2\"\r\n                app:layout_constraintStart_toStartOf=\"@id/guideline1\"\r\n                app:layout_constraintTop_toBottomOf=\"@id/admin_orders\">\r\n\r\n\r\n                <LinearLayout\r\n                    android:id=\"@+id/linear_dashboard\"\r\n                    android:layout_width=\"match_parent\"\r\n                    android:layout_height=\"wrap_content\"\r\n                    android:layout_marginTop=\"10dp\"\r\n                    android:orientation=\"horizontal\">\r\n\r\n                    <ImageView\r\n                        android:layout_width=\"@dimen/_30sdp\"\r\n                        android:layout_height=\"@dimen/_30sdp\"\r\n                        android:layout_gravity=\"center_vertical\"\r\n                        android:background=\"@drawable/settings_items_background\"\r\n                        android:backgroundTint=\"#ff5823\"\r\n                        android:src=\"@drawable/ic_logout\"\r\n                        app:tint=\"@color/white\" />\r\n\r\n                    <TextView\r\n                        android:id=\"@+id/dashboard\"\r\n                        style=\"@style/MediumTextViewThin\"\r\n                        android:layout_width=\"0dp\"\r\n                        android:layout_height=\"wrap_content\"\r\n                        android:layout_gravity=\"center_vertical\"\r\n                        android:layout_marginStart=\"@dimen/_15sdp\"\r\n                        android:layout_weight=\"1\"\r\n                        android:text=\"Dashboard\"\r\n                        android:textColor=\"@color/g_hint\"\r\n                        android:textStyle=\"bold\" />\r\n\r\n                    <ImageView\r\n                        android:layout_width=\"@dimen/_15sdp\"\r\n                        android:layout_height=\"@dimen/_15sdp\"\r\n                        android:layout_gravity=\"center_vertical\"\r\n                        android:src=\"@drawable/ic_arrow\"\r\n                        app:tint=\"@color/g_icon_tint\" />\r\n                </LinearLayout>\r\n\r\n\r\n            </LinearLayout>\r\n\r\n            <TextView\r\n                android:id=\"@+id/tv_orders\"\r\n                style=\"@style/MediumTextViewThin\"\r\n                android:layout_width=\"wrap_content\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:layout_marginTop=\"20dp\"\r\n                android:text=\"@string/g_orders\"\r\n                android:textColor=\"@color/g_hint\"\r\n                android:textStyle=\"normal\"\r\n                app:layout_constraintStart_toStartOf=\"@id/guideline1\"\r\n                app:layout_constraintTop_toBottomOf=\"@id/linear_admin\" />\r\n\r\n\r\n            <LinearLayout\r\n                android:id=\"@+id/linear_orders\"\r\n                android:layout_width=\"0dp\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:layout_marginTop=\"10dp\"\r\n                android:background=\"@drawable/search_box_background\"\r\n                android:orientation=\"vertical\"\r\n                app:layout_constraintEnd_toEndOf=\"@id/guideline2\"\r\n                app:layout_constraintStart_toStartOf=\"@id/guideline1\"\r\n                app:layout_constraintTop_toBottomOf=\"@id/tv_orders\">\r\n\r\n                <LinearLayout\r\n                    android:id=\"@+id/all_orders\"\r\n                    android:layout_width=\"match_parent\"\r\n                    android:layout_height=\"wrap_content\"\r\n                    android:orientation=\"horizontal\">\r\n\r\n                    <ImageView\r\n                        android:layout_width=\"@dimen/_30sdp\"\r\n                        android:layout_height=\"@dimen/_30sdp\"\r\n                        android:layout_gravity=\"center_vertical\"\r\n                        android:background=\"@drawable/settings_items_background\"\r\n                        android:src=\"@drawable/ic_all_orders\"\r\n                        app:tint=\"@color/white\" />\r\n\r\n                    <TextView\r\n                        android:id=\"@+id/tv_all_orders\"\r\n                        style=\"@style/MediumTextViewThin\"\r\n                        android:layout_width=\"0dp\"\r\n                        android:layout_height=\"wrap_content\"\r\n                        android:layout_gravity=\"center_vertical\"\r\n                        android:layout_marginStart=\"@dimen/_15sdp\"\r\n                        android:layout_weight=\"1\"\r\n                        android:text=\"@string/g_all_orders\"\r\n                        android:textColor=\"@color/g_hint\"\r\n                        android:textStyle=\"bold\" />\r\n\r\n                    <ImageView\r\n                        android:layout_width=\"@dimen/_15sdp\"\r\n                        android:layout_height=\"@dimen/_15sdp\"\r\n                        android:layout_gravity=\"center_vertical\"\r\n                        android:src=\"@drawable/ic_arrow\"\r\n                        app:tint=\"@color/g_icon_tint\" />\r\n                </LinearLayout>\r\n\r\n\r\n                <LinearLayout\r\n                    android:id=\"@+id/linear_track_order\"\r\n                    android:layout_width=\"match_parent\"\r\n                    android:layout_height=\"wrap_content\"\r\n                    android:layout_marginTop=\"10dp\"\r\n                    android:orientation=\"horizontal\">\r\n\r\n                    <ImageView\r\n                        android:layout_width=\"@dimen/_30sdp\"\r\n                        android:layout_height=\"@dimen/_30sdp\"\r\n                        android:layout_gravity=\"center_vertical\"\r\n                        android:background=\"@drawable/settings_items_background\"\r\n                        android:backgroundTint=\"@color/g_hint\"\r\n                        android:src=\"@drawable/ic_search\"\r\n                        app:tint=\"@color/white\" />\r\n\r\n                    <TextView\r\n                        android:id=\"@+id/tv_track_order\"\r\n                        style=\"@style/MediumTextViewThin\"\r\n                        android:layout_width=\"0dp\"\r\n                        android:layout_height=\"wrap_content\"\r\n                        android:layout_gravity=\"center_vertical\"\r\n                        android:layout_marginStart=\"@dimen/_15sdp\"\r\n                        android:layout_weight=\"1\"\r\n                        android:text=\"@string/g__track_order\"\r\n                        android:textColor=\"@color/g_hint\"\r\n                        android:textStyle=\"bold\" />\r\n\r\n                    <ImageView\r\n                        android:layout_width=\"@dimen/_15sdp\"\r\n                        android:layout_height=\"@dimen/_15sdp\"\r\n                        android:layout_gravity=\"center_vertical\"\r\n                        android:src=\"@drawable/ic_arrow\"\r\n                        app:tint=\"@color/g_icon_tint\" />\r\n                </LinearLayout>\r\n\r\n                <LinearLayout\r\n                    android:id=\"@+id/linear_billing\"\r\n                    android:layout_width=\"match_parent\"\r\n                    android:layout_height=\"wrap_content\"\r\n                    android:layout_marginTop=\"10dp\"\r\n                    android:orientation=\"horizontal\">\r\n\r\n                    <ImageView\r\n                        android:layout_width=\"@dimen/_30sdp\"\r\n                        android:layout_height=\"@dimen/_30sdp\"\r\n                        android:layout_gravity=\"center_vertical\"\r\n                        android:background=\"@drawable/settings_items_background\"\r\n                        android:backgroundTint=\"#FF9800\"\r\n                        android:src=\"@drawable/ic_billing\"\r\n                        app:tint=\"@color/white\" />\r\n\r\n                    <TextView\r\n                        android:id=\"@+id/tv_billing\"\r\n                        style=\"@style/MediumTextViewThin\"\r\n                        android:layout_width=\"0dp\"\r\n                        android:layout_height=\"wrap_content\"\r\n                        android:layout_gravity=\"center_vertical\"\r\n                        android:layout_marginStart=\"@dimen/_15sdp\"\r\n                        android:layout_weight=\"1\"\r\n                        android:text=\"@string/g_billing\"\r\n                        android:textColor=\"@color/g_hint\"\r\n                        android:textStyle=\"bold\" />\r\n\r\n                    <ImageView\r\n                        android:layout_width=\"@dimen/_15sdp\"\r\n                        android:layout_height=\"@dimen/_15sdp\"\r\n                        android:layout_gravity=\"center_vertical\"\r\n                        android:src=\"@drawable/ic_arrow\"\r\n                        app:tint=\"@color/g_icon_tint\" />\r\n                </LinearLayout>\r\n\r\n                <LinearLayout\r\n                    android:id=\"@+id/linear_comment\"\r\n                    android:layout_width=\"match_parent\"\r\n                    android:layout_height=\"wrap_content\"\r\n                    android:layout_marginTop=\"10dp\"\r\n                    android:orientation=\"horizontal\">\r\n\r\n                    <ImageView\r\n                        android:layout_width=\"@dimen/_30sdp\"\r\n                        android:layout_height=\"@dimen/_30sdp\"\r\n                        android:layout_gravity=\"center_vertical\"\r\n                        android:background=\"@drawable/settings_items_background\"\r\n                        android:backgroundTint=\"#FF9800\"\r\n                        android:src=\"@drawable/ic_billing\"\r\n                        app:tint=\"@color/white\" />\r\n\r\n                    <TextView\r\n                        android:id=\"@+id/tv_billing1\"\r\n                        style=\"@style/MediumTextViewThin\"\r\n                        android:layout_width=\"0dp\"\r\n                        android:layout_height=\"wrap_content\"\r\n                        android:layout_gravity=\"center_vertical\"\r\n                        android:layout_marginStart=\"@dimen/_15sdp\"\r\n                        android:layout_weight=\"1\"\r\n                        android:text=\"temp comment\"\r\n                        android:textColor=\"@color/g_hint\"\r\n                        android:textStyle=\"bold\" />\r\n\r\n                    <ImageView\r\n                        android:layout_width=\"@dimen/_15sdp\"\r\n                        android:layout_height=\"@dimen/_15sdp\"\r\n                        android:layout_gravity=\"center_vertical\"\r\n                        android:src=\"@drawable/ic_arrow\"\r\n                        app:tint=\"@color/g_icon_tint\" />\r\n                </LinearLayout>\r\n\r\n                <LinearLayout\r\n                    android:id=\"@+id/linear_rating\"\r\n                    android:layout_width=\"match_parent\"\r\n                    android:layout_height=\"wrap_content\"\r\n                    android:layout_marginTop=\"10dp\"\r\n                    android:orientation=\"horizontal\">\r\n\r\n                    <ImageView\r\n                        android:layout_width=\"@dimen/_30sdp\"\r\n                        android:layout_height=\"@dimen/_30sdp\"\r\n                        android:layout_gravity=\"center_vertical\"\r\n                        android:background=\"@drawable/settings_items_background\"\r\n                        android:backgroundTint=\"#FF9800\"\r\n                        android:src=\"@drawable/ic_billing\"\r\n                        app:tint=\"@color/white\" />\r\n\r\n                    <TextView\r\n                        android:id=\"@+id/tv_billing2\"\r\n                        style=\"@style/MediumTextViewThin\"\r\n                        android:layout_width=\"0dp\"\r\n                        android:layout_height=\"wrap_content\"\r\n                        android:layout_gravity=\"center_vertical\"\r\n                        android:layout_marginStart=\"@dimen/_15sdp\"\r\n                        android:layout_weight=\"1\"\r\n                        android:text=\"temp rating\"\r\n                        android:textColor=\"@color/g_hint\"\r\n                        android:textStyle=\"bold\" />\r\n\r\n                    <ImageView\r\n                        android:layout_width=\"@dimen/_15sdp\"\r\n                        android:layout_height=\"@dimen/_15sdp\"\r\n                        android:layout_gravity=\"center_vertical\"\r\n                        android:src=\"@drawable/ic_arrow\"\r\n                        app:tint=\"@color/g_icon_tint\" />\r\n                </LinearLayout>\r\n\r\n            </LinearLayout>\r\n\r\n\r\n            <TextView\r\n                android:id=\"@+id/tv_notifications\"\r\n                style=\"@style/MediumTextViewThin\"\r\n                android:layout_width=\"wrap_content\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:layout_marginTop=\"30dp\"\r\n                android:text=\"@string/g_information\"\r\n                android:textColor=\"@color/g_hint\"\r\n                android:textStyle=\"normal\"\r\n                app:layout_constraintStart_toStartOf=\"@id/guideline1\"\r\n                app:layout_constraintTop_toBottomOf=\"@id/linear_orders\" />\r\n\r\n            <LinearLayout\r\n                android:id=\"@+id/linear_notifications\"\r\n                android:layout_width=\"0dp\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:layout_marginTop=\"10dp\"\r\n                android:background=\"@drawable/search_box_background\"\r\n                android:orientation=\"vertical\"\r\n                app:layout_constraintEnd_toEndOf=\"@id/guideline2\"\r\n                app:layout_constraintStart_toStartOf=\"@id/guideline1\"\r\n                app:layout_constraintTop_toBottomOf=\"@id/tv_notifications\">\r\n\r\n                <LinearLayout\r\n                    android:layout_width=\"match_parent\"\r\n                    android:layout_height=\"wrap_content\"\r\n                    android:orientation=\"horizontal\">\r\n\r\n                    <ImageView\r\n                        android:layout_width=\"@dimen/_30sdp\"\r\n                        android:layout_height=\"@dimen/_30sdp\"\r\n                        android:layout_gravity=\"center_vertical\"\r\n                        android:background=\"@drawable/settings_items_background\"\r\n                        android:backgroundTint=\"#4cd964\"\r\n                        android:src=\"@drawable/ic_notification\"\r\n                        app:tint=\"@color/white\" />\r\n\r\n                    <TextView\r\n                        android:id=\"@+id/tv_notifications2\"\r\n                        style=\"@style/MediumTextViewThin\"\r\n                        android:layout_width=\"0dp\"\r\n                        android:layout_height=\"wrap_content\"\r\n                        android:layout_gravity=\"center_vertical\"\r\n                        android:layout_marginStart=\"@dimen/_15sdp\"\r\n                        android:layout_weight=\"1\"\r\n                        android:text=\"@string/g_notifications\"\r\n                        android:textColor=\"@color/g_hint\"\r\n                        android:textStyle=\"bold\" />\r\n\r\n                    <androidx.appcompat.widget.SwitchCompat\r\n                        android:id=\"@+id/switch_notification\"\r\n                        android:layout_width=\"wrap_content\"\r\n                        android:layout_height=\"wrap_content\"\r\n                        android:layout_gravity=\"center_vertical\"\r\n                        android:buttonTint=\"#4cd964\"\r\n                        android:checked=\"true\" />\r\n\r\n                </LinearLayout>\r\n\r\n                <LinearLayout\r\n                    android:id=\"@+id/linear_help\"\r\n                    android:layout_width=\"match_parent\"\r\n                    android:layout_height=\"wrap_content\"\r\n                    android:layout_marginTop=\"10dp\"\r\n                    android:orientation=\"horizontal\">\r\n\r\n                    <ImageView\r\n                        android:layout_width=\"wrap_content\"\r\n                        android:layout_height=\"@dimen/_30sdp\"\r\n                        android:layout_gravity=\"center_vertical\"\r\n                        android:background=\"@drawable/settings_items_background\"\r\n                        android:backgroundTint=\"#9C27B0\"\r\n                        android:src=\"@drawable/ic_help\"\r\n                        app:tint=\"@color/white\" />\r\n\r\n                    <TextView\r\n                        android:id=\"@+id/tv_help\"\r\n                        style=\"@style/MediumTextViewThin\"\r\n                        android:layout_width=\"0dp\"\r\n                        android:layout_height=\"wrap_content\"\r\n                        android:layout_gravity=\"center_vertical\"\r\n                        android:layout_marginStart=\"@dimen/_15sdp\"\r\n                        android:layout_weight=\"1\"\r\n                        android:text=\"@string/help\"\r\n                        android:textColor=\"@color/g_hint\"\r\n                        android:textStyle=\"bold\" />\r\n\r\n                    <ImageView\r\n                        android:layout_width=\"@dimen/_15sdp\"\r\n                        android:layout_height=\"@dimen/_15sdp\"\r\n                        android:layout_gravity=\"center_vertical\"\r\n                        android:src=\"@drawable/ic_arrow\"\r\n                        app:tint=\"@color/g_icon_tint\" />\r\n                </LinearLayout>\r\n            </LinearLayout>\r\n\r\n            <TextView\r\n                android:id=\"@+id/tv_regional\"\r\n                style=\"@style/MediumTextViewThin\"\r\n                android:layout_width=\"wrap_content\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:layout_marginTop=\"20dp\"\r\n                android:text=\"@string/g_preference\"\r\n                android:textColor=\"@color/g_hint\"\r\n                android:textStyle=\"normal\"\r\n                app:layout_constraintStart_toStartOf=\"@id/guideline1\"\r\n                app:layout_constraintTop_toBottomOf=\"@id/linear_notifications\" />\r\n\r\n            <LinearLayout\r\n                android:id=\"@+id/linear_preference\"\r\n                android:layout_width=\"0dp\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:layout_marginTop=\"10dp\"\r\n                android:background=\"@drawable/search_box_background\"\r\n                android:orientation=\"vertical\"\r\n                app:layout_constraintEnd_toEndOf=\"@id/guideline2\"\r\n                app:layout_constraintStart_toStartOf=\"@id/guideline1\"\r\n                app:layout_constraintTop_toBottomOf=\"@id/tv_regional\">\r\n\r\n                <LinearLayout\r\n                    android:visibility=\"gone\"\r\n                    android:id=\"@+id/linear_join_partnership\"\r\n                    android:layout_width=\"match_parent\"\r\n                    android:layout_height=\"wrap_content\"\r\n                    android:orientation=\"horizontal\">\r\n\r\n                    <ImageView\r\n                        android:layout_width=\"@dimen/_30sdp\"\r\n                        android:layout_height=\"@dimen/_30sdp\"\r\n                        android:layout_gravity=\"center_vertical\"\r\n                        android:background=\"@drawable/settings_items_background\"\r\n                        android:backgroundTint=\"#5856d6\"\r\n                        android:src=\"@drawable/ic_partnership\"\r\n                        app:tint=\"@color/white\" />\r\n\r\n                    <TextView\r\n                        android:id=\"@+id/dfgh\"\r\n                        style=\"@style/MediumTextViewThin\"\r\n                        android:layout_width=\"0dp\"\r\n                        android:layout_height=\"wrap_content\"\r\n                        android:layout_gravity=\"center_vertical\"\r\n                        android:layout_marginStart=\"@dimen/_15sdp\"\r\n                        android:layout_weight=\"1\"\r\n                        android:text=\"@string/g_join_partnership\"\r\n                        android:textColor=\"@color/g_hint\"\r\n                        android:textStyle=\"bold\" />\r\n\r\n                    <ImageView\r\n                        android:layout_width=\"@dimen/_15sdp\"\r\n                        android:layout_height=\"@dimen/_15sdp\"\r\n                        android:layout_gravity=\"center_vertical\"\r\n                        android:src=\"@drawable/ic_arrow\"\r\n                        app:tint=\"@color/g_icon_tint\" />\r\n                </LinearLayout>\r\n\r\n\r\n                <LinearLayout\r\n                    android:visibility=\"gone\"\r\n                    android:id=\"@+id/linear_view_partnership\"\r\n                    android:layout_width=\"match_parent\"\r\n                    android:layout_height=\"wrap_content\"\r\n                    android:layout_marginTop=\"10dp\"\r\n                    android:orientation=\"horizontal\">\r\n\r\n                    <ImageView\r\n                        android:layout_width=\"@dimen/_30sdp\"\r\n                        android:layout_height=\"@dimen/_30sdp\"\r\n                        android:layout_gravity=\"center_vertical\"\r\n                        android:background=\"@drawable/settings_items_background\"\r\n                        android:backgroundTint=\"#39388E\"\r\n                        android:src=\"@drawable/group\"\r\n                        app:tint=\"@color/white\" />\r\n\r\n                    <TextView\r\n                        android:id=\"@+id/dfght\"\r\n                        style=\"@style/MediumTextViewThin\"\r\n                        android:layout_width=\"0dp\"\r\n                        android:layout_height=\"wrap_content\"\r\n                        android:layout_gravity=\"center_vertical\"\r\n                        android:layout_marginStart=\"@dimen/_15sdp\"\r\n                        android:layout_weight=\"1\"\r\n                        android:text=\"View Partnership\"\r\n                        android:textColor=\"@color/g_hint\"\r\n                        android:textStyle=\"bold\" />\r\n\r\n                    <ImageView\r\n                        android:layout_width=\"@dimen/_15sdp\"\r\n                        android:layout_height=\"@dimen/_15sdp\"\r\n                        android:layout_gravity=\"center_vertical\"\r\n                        android:src=\"@drawable/ic_arrow\"\r\n                        app:tint=\"@color/g_icon_tint\" />\r\n                </LinearLayout>\r\n\r\n                <LinearLayout\r\n                    android:id=\"@+id/linear_out\"\r\n                    android:layout_width=\"match_parent\"\r\n                    android:layout_height=\"wrap_content\"\r\n                    android:layout_marginTop=\"10dp\"\r\n                    android:orientation=\"horizontal\">\r\n\r\n                    <ImageView\r\n                        android:layout_width=\"@dimen/_30sdp\"\r\n                        android:layout_height=\"@dimen/_30sdp\"\r\n                        android:layout_gravity=\"center_vertical\"\r\n                        android:background=\"@drawable/settings_items_background\"\r\n                        android:backgroundTint=\"#ff5823\"\r\n                        android:src=\"@drawable/ic_logout\"\r\n                        app:tint=\"@color/white\" />\r\n\r\n                    <TextView\r\n                        android:id=\"@+id/logout\"\r\n                        style=\"@style/MediumTextViewThin\"\r\n                        android:layout_width=\"0dp\"\r\n                        android:layout_height=\"wrap_content\"\r\n                        android:layout_gravity=\"center_vertical\"\r\n                        android:layout_marginStart=\"@dimen/_15sdp\"\r\n                        android:layout_weight=\"1\"\r\n                        android:text=\"@string/g_logout\"\r\n                        android:textColor=\"@color/g_hint\"\r\n                        android:textStyle=\"bold\" />\r\n\r\n                    <ImageView\r\n                        android:layout_width=\"@dimen/_15sdp\"\r\n                        android:layout_height=\"@dimen/_15sdp\"\r\n                        android:layout_gravity=\"center_vertical\"\r\n                        android:src=\"@drawable/ic_arrow\"\r\n                        app:tint=\"@color/g_icon_tint\" />\r\n                </LinearLayout>\r\n\r\n\r\n            </LinearLayout>\r\n\r\n\r\n            <TextView\r\n                android:id=\"@+id/tv_version_code\"\r\n                android:layout_width=\"wrap_content\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:layout_marginBottom=\"10dp\"\r\n                android:fontFamily=\"@font/sf_pro_display\"\r\n                android:text=\"Version 1.0\"\r\n                android:textColor=\"@color/g_hint\"\r\n                android:textSize=\"@dimen/_10ssp\"\r\n                app:layout_constraintBottom_toBottomOf=\"parent\"\r\n                app:layout_constraintEnd_toEndOf=\"@id/guideline2\"\r\n                app:layout_constraintStart_toStartOf=\"@id/guideline1\"\r\n                app:layout_constraintTop_toBottomOf=\"@+id/linear_preference\" />\r\n\r\n\r\n            <androidx.constraintlayout.widget.Guideline\r\n                android:id=\"@+id/guideline1\"\r\n                android:layout_width=\"wrap_content\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:orientation=\"vertical\"\r\n                app:layout_constraintGuide_percent=\"0.04\" />\r\n\r\n            <androidx.constraintlayout.widget.Guideline\r\n                android:id=\"@+id/guideline2\"\r\n                android:layout_width=\"wrap_content\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:orientation=\"vertical\"\r\n                app:layout_constraintGuide_percent=\"0.96\" />\r\n\r\n        </androidx.constraintlayout.widget.ConstraintLayout>\r\n\r\n\r\n    </androidx.constraintlayout.widget.ConstraintLayout>\r\n\r\n\r\n</androidx.core.widget.NestedScrollView>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/res/layout/fragment_profile.xml b/app/src/main/res/layout/fragment_profile.xml
--- a/app/src/main/res/layout/fragment_profile.xml	(revision 8329d1d9692cc1f06318e32b70fe66538ec86e3d)
+++ b/app/src/main/res/layout/fragment_profile.xml	(date 1695570526060)
@@ -364,6 +364,114 @@
                         app:tint="@color/g_icon_tint" />
                 </LinearLayout>
 
+                <LinearLayout
+                    android:id="@+id/linear_quiz"
+                    android:layout_width="match_parent"
+                    android:layout_height="wrap_content"
+                    android:layout_marginTop="10dp"
+                    android:orientation="horizontal">
+
+                    <ImageView
+                        android:layout_width="@dimen/_30sdp"
+                        android:layout_height="@dimen/_30sdp"
+                        android:layout_gravity="center_vertical"
+                        android:background="@drawable/settings_items_background"
+                        android:backgroundTint="#FF9800"
+                        android:src="@drawable/ic_billing"
+                        app:tint="@color/white" />
+
+                    <TextView
+                        android:id="@+id/quiz"
+                        style="@style/MediumTextViewThin"
+                        android:layout_width="0dp"
+                        android:layout_height="wrap_content"
+                        android:layout_gravity="center_vertical"
+                        android:layout_marginStart="@dimen/_15sdp"
+                        android:layout_weight="1"
+                        android:text="QUIZ"
+                        android:textColor="@color/g_hint"
+                        android:textStyle="bold" />
+
+                    <ImageView
+                        android:layout_width="@dimen/_15sdp"
+                        android:layout_height="@dimen/_15sdp"
+                        android:layout_gravity="center_vertical"
+                        android:src="@drawable/ic_arrow"
+                        app:tint="@color/g_icon_tint" />
+                </LinearLayout>
+
+                <LinearLayout
+                    android:id="@+id/linear_passed_quizzes"
+                    android:layout_width="match_parent"
+                    android:layout_height="wrap_content"
+                    android:layout_marginTop="10dp"
+                    android:orientation="horizontal">
+
+                    <ImageView
+                        android:layout_width="@dimen/_30sdp"
+                        android:layout_height="@dimen/_30sdp"
+                        android:layout_gravity="center_vertical"
+                        android:background="@drawable/settings_items_background"
+                        android:backgroundTint="#FF9800"
+                        android:src="@drawable/ic_billing"
+                        app:tint="@color/white" />
+
+                    <TextView
+                        android:id="@+id/passed_quizzes"
+                        style="@style/MediumTextViewThin"
+                        android:layout_width="0dp"
+                        android:layout_height="wrap_content"
+                        android:layout_gravity="center_vertical"
+                        android:layout_marginStart="@dimen/_15sdp"
+                        android:layout_weight="1"
+                        android:text="Passed Quizzes"
+                        android:textColor="@color/g_hint"
+                        android:textStyle="bold" />
+
+                    <ImageView
+                        android:layout_width="@dimen/_15sdp"
+                        android:layout_height="@dimen/_15sdp"
+                        android:layout_gravity="center_vertical"
+                        android:src="@drawable/ic_arrow"
+                        app:tint="@color/g_icon_tint" />
+                </LinearLayout>
+
+                <LinearLayout
+                    android:id="@+id/linear_reward"
+                    android:layout_width="match_parent"
+                    android:layout_height="wrap_content"
+                    android:layout_marginTop="10dp"
+                    android:orientation="horizontal">
+
+                    <ImageView
+                        android:layout_width="@dimen/_30sdp"
+                        android:layout_height="@dimen/_30sdp"
+                        android:layout_gravity="center_vertical"
+                        android:background="@drawable/settings_items_background"
+                        android:backgroundTint="#FF9800"
+                        android:src="@drawable/ic_billing"
+                        app:tint="@color/white" />
+
+                    <TextView
+                        android:id="@+id/reward"
+                        style="@style/MediumTextViewThin"
+                        android:layout_width="0dp"
+                        android:layout_height="wrap_content"
+                        android:layout_gravity="center_vertical"
+                        android:layout_marginStart="@dimen/_15sdp"
+                        android:layout_weight="1"
+                        android:text="Reward"
+                        android:textColor="@color/g_hint"
+                        android:textStyle="bold" />
+
+                    <ImageView
+                        android:layout_width="@dimen/_15sdp"
+                        android:layout_height="@dimen/_15sdp"
+                        android:layout_gravity="center_vertical"
+                        android:src="@drawable/ic_arrow"
+                        app:tint="@color/g_icon_tint" />
+                </LinearLayout>
+
             </LinearLayout>
 
 
Index: app/src/main/java/com/example/kleine/viewmodel/quiz/PlayViewModel.kt
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package com.example.kleine.viewmodel.quiz\r\n\r\nimport android.os.CountDownTimer\r\nimport android.os.Handler\r\nimport android.view.View\r\nimport android.widget.Button\r\nimport androidx.lifecycle.LiveData\r\nimport androidx.lifecycle.MutableLiveData\r\nimport androidx.lifecycle.ViewModel\r\nimport com.example.kleine.R\r\nimport com.google.firebase.firestore.FirebaseFirestore\r\n\r\nclass PlayViewModel : ViewModel() {\r\n\r\n    private var questionList = mutableListOf<String>()\r\n    private var chooseList = mutableListOf<String>()\r\n    private var correctList = mutableListOf<String>()\r\n\r\n    private var currentQuestion = 0\r\n    private val _scorePlayer = MutableLiveData<Int>()\r\n    val scorePlayer: LiveData<Int>\r\n        get() = _scorePlayer\r\n    private var isClickBtn = false\r\n    private var valueChoose = \"\"\r\n    private lateinit var btnClick: Button\r\n\r\n    private val _questionText = MutableLiveData<String>()\r\n    val questionText: LiveData<String>\r\n        get() = _questionText\r\n\r\n    private val _btnChoice1Text = MutableLiveData<String>()\r\n    val btnChoice1Text: LiveData<String>\r\n        get() = _btnChoice1Text\r\n\r\n    private val _btnChoice2Text = MutableLiveData<String>()\r\n    val btnChoice2Text: LiveData<String>\r\n        get() = _btnChoice2Text\r\n\r\n    private val _btnChoice3Text = MutableLiveData<String>()\r\n    val btnChoice3Text: LiveData<String>\r\n        get() = _btnChoice3Text\r\n\r\n    private val _btnChoice4Text = MutableLiveData<String>()\r\n    val btnChoice4Text: LiveData<String>\r\n        get() = _btnChoice4Text\r\n\r\n    private val _cptQuestionText = MutableLiveData<String>()\r\n    val cptQuestionText: LiveData<String>\r\n        get() = _cptQuestionText\r\n\r\n    private val _btnBackground = MutableLiveData<Int>(R.drawable.background_btn_choose)\r\n    val btnBackground: LiveData<Int>\r\n        get() = _btnBackground\r\n\r\n    private val _navigateToResult = MutableLiveData<Boolean>()\r\n    val navigateToResult: LiveData<Boolean>\r\n        get() = _navigateToResult\r\n\r\n    private val _toastMessage = MutableLiveData<String>()\r\n    val toastMessage: LiveData<String>\r\n        get() = _toastMessage\r\n\r\n    private val _remainingTime = MutableLiveData<String>()\r\n    val remainingTime: LiveData<String>\r\n        get() = _remainingTime\r\n\r\n    private val _showDialogEvent = MutableLiveData<Boolean>()\r\n    val showDialogEvent: LiveData<Boolean>\r\n        get() = _showDialogEvent\r\n\r\n    private val _showToastMsg = MutableLiveData<Boolean>()\r\n    val showToastMsg: LiveData<Boolean>\r\n        get() = _showToastMsg\r\n\r\n    private lateinit var timer: CountDownTimer\r\n\r\n    private val db = FirebaseFirestore.getInstance()\r\n\r\n    init {\r\n        _scorePlayer.value = 0\r\n        fetchQuestions(\"MYuSpYyoeoUmZPGMCH9w\", \"I6lEledYlHpZD588NcZk\")\r\n    }\r\n\r\n    private fun fetchQuestions(materialID: String, setID: String) {\r\n        db.collection(\"Materials\")\r\n            .document(materialID)\r\n            .collection(\"Sets\")\r\n            .document(setID)\r\n            .collection(\"Questions\")\r\n            .get()\r\n            .addOnSuccessListener { querySnapshot ->\r\n                // Clear old data\r\n                questionList.clear()\r\n                chooseList.clear()\r\n                correctList.clear()\r\n\r\n                // Populate new data\r\n                for (document in querySnapshot.documents) {\r\n                    val questionText = document.getString(\"questionText\") ?: \"\"\r\n                    questionList.add(questionText)\r\n\r\n                    val optionA = document.getString(\"optionA\") ?: \"\"\r\n                    val optionB = document.getString(\"optionB\") ?: \"\"\r\n                    val optionC = document.getString(\"optionC\") ?: \"\"\r\n                    val optionD = document.getString(\"optionD\") ?: \"\"\r\n                    chooseList.addAll(listOf(optionA, optionB, optionC, optionD))\r\n\r\n                    val correctAnswerOption = document.getString(\"correctAnswer\") ?: \"\"\r\n                    // Get the actual correct answer based on the option label\r\n                    val correctAnswer = document.getString(correctAnswerOption) ?: \"\"\r\n                    correctList.add(correctAnswer)\r\n                }\r\n\r\n                // Check if data exists before proceeding\r\n                if (questionList.isNotEmpty() && chooseList.isNotEmpty() && correctList.isNotEmpty()) {\r\n                    fillData()\r\n                    startTimer()\r\n                }\r\n            }\r\n            .addOnFailureListener { exception ->\r\n                // Handle any errors here\r\n            }\r\n    }\r\n\r\n    private fun startTimer() {\r\n        timer = object : CountDownTimer(30000, 1000) {\r\n            override fun onTick(millisUntilFinished: Long) {\r\n                _remainingTime.value = (millisUntilFinished / 1000).toString()\r\n            }\r\n\r\n            override fun onFinish() {\r\n                // Handle time's up\r\n                _showDialogEvent.value = true\r\n            }\r\n        }.start()\r\n    }\r\n\r\n    // don't forget to cancel the timer when needed\r\n    override fun onCleared() {\r\n        super.onCleared()\r\n        timer.cancel()\r\n    }\r\n\r\n    fun nextQuestion() {\r\n        _showToastMsg.value = true\r\n\r\n        if (isClickBtn) {\r\n            isClickBtn = false\r\n            timer.cancel()\r\n\r\n            if (valueChoose != correctList[currentQuestion]) {\r\n                _toastMessage.value = \"error\"\r\n                btnClick.setBackgroundResource(R.drawable.background_btn_erreur)\r\n            } else {\r\n                _toastMessage.value = \"correct\"\r\n                btnClick.setBackgroundResource(R.drawable.background_btn_correct)\r\n                _scorePlayer.value = _scorePlayer.value?.plus(1)\r\n            }\r\n\r\n            Handler().postDelayed({\r\n                if (currentQuestion != questionList.size - 1) {\r\n                    currentQuestion++\r\n                    fillData()\r\n                    valueChoose = \"\"\r\n                    _btnBackground.value = R.drawable.background_btn_choose\r\n                    startTimer()\r\n                } else {\r\n                    // Navigate to ResultActivity using navigation component\r\n                    _navigateToResult.value = true\r\n                }\r\n            }, 2000)\r\n        } else {\r\n            _toastMessage.value = \"Vous devez en choisir un\"\r\n        }\r\n    }\r\n\r\n    private fun fillData() {\r\n        _cptQuestionText.value = \"${currentQuestion + 1}/${questionList.size}\"\r\n        _questionText.value = questionList[currentQuestion]\r\n\r\n        _btnChoice1Text.value = chooseList[4 * currentQuestion]\r\n        _btnChoice2Text.value = chooseList[4 * currentQuestion + 1]\r\n        _btnChoice3Text.value = chooseList[4 * currentQuestion + 2]\r\n        _btnChoice4Text.value = chooseList[4 * currentQuestion + 3]\r\n    }\r\n\r\n    fun clickChoose(view: View) {\r\n        btnClick = view as Button\r\n\r\n        if (isClickBtn) {\r\n            _btnBackground.value = R.drawable.background_btn_choose\r\n        }\r\n\r\n        chooseBtn()\r\n    }\r\n\r\n    private fun chooseBtn() {\r\n        btnClick.setBackgroundResource(R.drawable.background_btn_choose_color)\r\n        isClickBtn = true\r\n        valueChoose = btnClick.text.toString()\r\n    }\r\n\r\n    fun resetShowToastMsg() {\r\n        _showToastMsg.value = false\r\n    }\r\n\r\n}\r\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/java/com/example/kleine/viewmodel/quiz/PlayViewModel.kt b/app/src/main/java/com/example/kleine/viewmodel/quiz/PlayViewModel.kt
--- a/app/src/main/java/com/example/kleine/viewmodel/quiz/PlayViewModel.kt	(revision 8329d1d9692cc1f06318e32b70fe66538ec86e3d)
+++ b/app/src/main/java/com/example/kleine/viewmodel/quiz/PlayViewModel.kt	(date 1695570526077)
@@ -10,9 +10,9 @@
 import com.example.kleine.R
 import com.google.firebase.firestore.FirebaseFirestore
 
-class PlayViewModel : ViewModel() {
+class PlayViewModel(private val materialDocID: String?, private val setID: String?) : ViewModel() {
 
-    private var questionList = mutableListOf<String>()
+    var questionList = mutableListOf<String>()
     private var chooseList = mutableListOf<String>()
     private var correctList = mutableListOf<String>()
 
@@ -78,7 +78,10 @@
 
     init {
         _scorePlayer.value = 0
-        fetchQuestions("MYuSpYyoeoUmZPGMCH9w", "I6lEledYlHpZD588NcZk")
+        // Check if materialDocID and setID are not null before fetching questions
+        if(materialDocID != null && setID != null) {
+            fetchQuestions(materialDocID, setID)
+        }
     }
 
     private fun fetchQuestions(materialID: String, setID: String) {
@@ -123,7 +126,7 @@
     }
 
     private fun startTimer() {
-        timer = object : CountDownTimer(30000, 1000) {
+        timer = object : CountDownTimer(10000, 1000) {
             override fun onTick(millisUntilFinished: Long) {
                 _remainingTime.value = (millisUntilFinished / 1000).toString()
             }
@@ -149,7 +152,7 @@
             timer.cancel()
 
             if (valueChoose != correctList[currentQuestion]) {
-                _toastMessage.value = "error"
+                _toastMessage.value = "wrong"
                 btnClick.setBackgroundResource(R.drawable.background_btn_erreur)
             } else {
                 _toastMessage.value = "correct"
@@ -170,7 +173,7 @@
                 }
             }, 2000)
         } else {
-            _toastMessage.value = "Vous devez en choisir un"
+            _toastMessage.value = "Please select your answer"
         }
     }
 
